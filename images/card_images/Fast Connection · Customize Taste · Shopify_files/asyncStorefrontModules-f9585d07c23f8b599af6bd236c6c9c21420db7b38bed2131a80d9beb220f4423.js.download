(self.webpackChunk_ShopifyEditorModules=self.webpackChunk_ShopifyEditorModules||[]).push([["asyncStorefrontModules"],{"./packages/@editor/storefront-controller/async-modules/preview-inspector/index.ts":(e,t,n)=>{"use strict";n.r(t);var o=n("./packages/@editor/storefront-controller/async-modules/user-interface/user-interface.ts"),r=n("./node_modules/preact/compat/dist/compat.module.js");var i=n("./packages/@editor/utilities/ancestors/utilities/buildGid.ts");const s="shopify-section-",l="data-shopify-editor-section",d=`[${l}]`,c="data-shopify-editor-block",a=`[${c}]`;function u(e,t,n){return null==t?`[${e}]`:n?`[${e}^='{"id":"${t}']`:`[${e}^='{"id":"${t}"']`}function m(){return Array.from(document.querySelectorAll(d))}function f(e){return e.closest(a)}function p(e,t){const n=null==(o=e).parentElement?null:o.getAttribute(l)?o:o.parentElement.closest(d);var o;if(null==n)return null;const r=h(n.getAttribute(l));if(null==r)return null;const s=f(e);let a,u;if(s){const e=[],n=t=>{if(null==t)return;const o=f(t);if(o){const t=h(o.getAttribute(c));t&&(e.unshift(t.id),n(o.parentElement))}};n(s.parentElement);const o=h(s.getAttribute(c));o&&(a=t?o.id:[r.id,...e,o.id].join(i.c),u=o.repeaterId)}return{section:{id:r.id},block:s&&a?{id:a,repeaterId:u}:void 0}}function h(e){if(null===e)return null;try{const t=JSON.parse(e),n=null==t.repeaterListIndex?void 0:String(t.repeaterListIndex);return{id:String(n?t.repeaterBlockId:t.id),repeaterId:n}}catch(t){return null}}function v(){const e=(0,r.sO)(!0);return(0,r.bt)((()=>()=>{e.current=!1}),[]),e}function b(e,t){if(e===t)return!0;if(null==e||null==t)return!1;return!Object.entries(e).some((([e,n])=>n!==t[e]))}var g=n("./packages/@editor/storefront-controller/hooks/useResizeObserver.ts");function y(e){const t=(0,r.sO)(e);return(0,r.bt)((()=>{t.current=e}),[e]),t}const w=new class{constructor(){this.animationFrame=null,this.callbacks=[]}schedule(e){this.callbacks.includes(e)||(this.callbacks.push(e),null!=this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame((()=>{for(const t of this.callbacks){var e;null===(e=t.current)||void 0===e||e.call(t)}this.callbacks=[],this.animationFrame=null})))}};var x=n("./node_modules/lodash/debounce.js"),C=n.n(x);function k(e,t){const n=y(e);return(0,r.Ye)((()=>{if(t){const{wait:n,...o}=t;return C()(e,n,o)}return(...e)=>{n.current(...e)}}),[JSON.stringify(t),n])}function _(e){const t=y(e),[n,o]=(0,r.eJ)(null),i=k((()=>{const e=t.current;e&&o(getComputedStyle(e))}),{leading:!0,wait:50}),s=function(e,{debounce:t}={}){const n=k(e,t),o=(0,r.Ye)((()=>new MutationObserver(n)),[n]);return(0,r.d4)((function(){return()=>o.disconnect()}),[o]),o}(i);return(0,r.bt)((()=>{s.disconnect(),e&&(i(),s.observe(e,{attributes:!0,attributeFilter:["style","class","aria-hidden"]}))}),[s,e,i]),n}function E({disabled:e,debounce:t,event:n,options:o,target:i,listener:s}){const l=y(s);(0,r.d4)((()=>{if(e)return;let r=e=>l.current(e);if(t){const{wait:e,...n}=t;r=C()(r,e,n)}return i.addEventListener(n,r,o),()=>i.removeEventListener(n,r,o)}),[n,e,i,JSON.stringify({options:o,debounceConfig:t})])}const S={threshold:[0,.01,.99,1],initialState:!1,intersectionRatio:0};function R(e,t){const{initialState:n,intersectionRatio:o,root:i,threshold:s}={...S,...t},[l,d]=(0,r.eJ)(n),c=(0,r.sO)(e),a=(0,r.I4)((e=>{const t=e.some((e=>0===o?e.intersectionRatio>o:e.intersectionRatio>=o));d(t)}),[o]);return(0,r.bt)((()=>{c.current!==e&&(d(n),c.current=e)}),[e,n]),function({element:e,debounce:t,onIntersection:n,observerConfig:o}){const i=(0,r.sO)(e),s=k(n,t),l=(0,r.Ye)((()=>new IntersectionObserver(s,o)),[s,null==o?void 0:o.root,null==o?void 0:o.rootMargin,JSON.stringify(null==o?void 0:o.threshold)]);(0,r.bt)((()=>{i.current&&l.unobserve(i.current),e&&l.observe(e),i.current=e}),[l,e]),(0,r.d4)((function(){return()=>l.disconnect()}),[l])}({element:e,onIntersection:a,observerConfig:{root:i,threshold:s}}),l}function j(e,{observeVisibility:t}){const[n,o]=(0,r.eJ)(null),i=y(e),s=function(e){const t=y(e);return(0,r.I4)((()=>w.schedule(t)),[t])}((0,r.I4)((()=>{const e=i.current;if(!e)return void o(null);const t=function(e){const{width:t,height:n,left:o,top:r}=e.getBoundingClientRect(),{scrollLeft:i,scrollTop:s}=document.scrollingElement??document.body;return{width:t,height:n,top:r,offsetTop:r+s,left:o,offsetLeft:o+i}}(e);o((e=>b(t,e)?e:t))}),[i])),l=_(t?e:void 0),d="hidden"===(null==l?void 0:l.visibility),c=R(e)&&!d;(0,g.y)({element:e,onResize:s}),function(e,t){const{dependencies:n,initial:o,max:i}=t,s=y(e),l=(0,r.sO)(o),d=(0,r.sO)(null);(0,r.d4)((()=>(function e(){d.current=setTimeout((()=>{l.current=Math.min(1.25*l.current,i),document.hidden||s.current(),e()}),l.current)}(),()=>{d.current&&clearTimeout(d.current)})),[s,o,i]),(0,r.d4)((()=>{l.current=o}),[o,...n])}(s,{initial:c?20:250,max:c?300:1500,dependencies:[JSON.stringify(n)]}),E({event:"scroll",listener:s,target:document,options:{capture:!0,passive:!0}});return[d?null:n,s]}var H=n("./packages/@editor/storefront-controller/async-modules/user-interface/utilities/custom-elements.ts");class I extends HTMLElement{}I.tagName="shopify-editor-preview-label-group",(0,H.z)(I);var M=n("./node_modules/preact/compat/jsx-runtime.mjs");const Z={position:"absolute",left:"calc(0px - var(--padding) - var(--border-width))",top:"calc(0px + var(--padding) - var(--border-width))",transform:"translateY(-100%)",display:"flex",alignItems:"flex-start",flexDirection:"column",maxWidth:"90%",padding:" 0 var(--padding) var(--padding)",zIndex:1,pointerEvents:"all"},B=(0,r.kr)(!0),O=(0,r.Gp)((function({children:e,inset:t=!1},n){return(0,r.az)(I.tagName,{ref:n,style:{...Z,"--padding":"5px"}},(0,M.tZ)(B.Provider,{value:t,children:e}))})),T=(0,r.kr)(null);class z extends HTMLElement{}z.tagName="shopify-editor-preview-inspector-outline",(0,H.z)(z);const N={position:"absolute",boxSizing:"border-box",borderWidth:"var(--border-width)",pointerEvents:"none"},L="contrast(1.05) saturate(0.8)",$=1,A=3;function F({color:e,hoverBackgroundColor:t,children:n,element:o,hidden:i,hovered:s,label:l,labelWithin:d,selected:c,observeVisibility:a,previewBorderRadius:u,onResize:m}){const f=v(),p=(0,r.qp)(T),h=null==p?void 0:p.coordinates,g=null!=h,y=(0,r.sO)({coordinates:null,element:null,parentOutlineCoordinates:h}),w=(0,r.Ye)((()=>V(o)),[o]),[x,C]=j(w,{observeVisibility:a}),k=!!x&&(x.height>0&&x.width>0),[_,E]=(0,r.eJ)(null),S=k&&!i&&null!=l,H=!R(_,{initialState:!0,intersectionRatio:.9,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})||d,I=window.innerHeight,Z=x&&I?(null==x?void 0:x.top)+(null==x?void 0:x.height)-I:null,B=Boolean(Z&&Z>-1*u&&Z<u),F=A,Y=Boolean(x&&x.top>-1*u&&x.top<u),q=x&&Y?Math.min(Math.max(F,u-x.top),u):F,P=B&&I&&x?Math.min(Math.max(F,u-(I-x.top-x.height)),u):F,W=S&&!H?0:q,J=s||c?"solid":"dashed",X=s&&!i?L:void 0,G=s&&!i?t:void 0,D=function(){if(i||!k)return 0;if(!c)return 1;return g?2:3}(),K=(0,r.Ye)((()=>({element:o,borderWidth:D,coordinates:x})),[D,x,o]),U=g?{opacity:x?1:0}:{visibility:x?void 0:"hidden"},Q=S?(0,M.tZ)(O,{ref:E,inset:H,children:l}):null;(0,r.bt)((function(){h!==y.current.parentOutlineCoordinates&&(o&&h&&C(),y.current.parentOutlineCoordinates=h)}),[h,o,C]),(0,r.d4)((function(){f.current&&(b(x,y.current.coordinates)||(null==m||m(x),y.current.coordinates=x))}),[x,f,m]);const ee=s?1:void 0;return(0,r.az)(z.tagName,{style:{...N,...U,...function(){if(p&&h&&x){const e=x.offsetLeft-h.offsetLeft,t=x.offsetTop-h.offsetTop,n=p.borderWidth,o=2*n,r={x:0===e&&n>0,y:0===t&&n>0},i=r.x?$:e-n,s=r.y?$:t-n,l=h.width-i-o,d=h.height-s-o;return{top:s,left:i,width:null!=r&&r.x?x.width-i-n:x.width,height:r.y?x.height-s-n:x.height,maxWidth:null!=r&&r.x?l-$:l,maxHeight:r.y?d-$:d}}return{height:null==x?void 0:x.height,width:null==x?void 0:x.width,left:null==x?void 0:x.offsetLeft,top:null==x?void 0:x.offsetTop}}(),backdropFilter:X,backgroundColor:G,borderColor:i?"transparent":e,borderStyle:J,borderTopRightRadius:q,borderTopLeftRadius:W,borderBottomRightRadius:P,borderBottomLeftRadius:P,zIndex:ee,"--border-top-left-radius":`${W}px`,"--border-color":e,"--border-width":`${D}px`}},(0,M.BX)(M.HY,{children:[Q,(0,M.tZ)(T.Provider,{value:K,children:null==n?void 0:n(x)})]}))}function V(e){if(!e)return;if(Y(e))return e;const t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>Y(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}).nextNode();return t instanceof Element?t:e}function Y(e){if(!(e instanceof Element))return!1;const{width:t,height:n}=e.getBoundingClientRect();return t&&n}const q=(0,r.kr)(null);function P(){return(0,r.qp)(q)}const W=(0,M.BX)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.tZ)("circle",{cx:"10.75",cy:"10.875",r:"10"}),(0,M.tZ)("path",{d:"M11.5 7.625C11.5 7.21079 11.1642 6.875 10.75 6.875C10.3358 6.875 10 7.21079 10 7.625L10 10.125H7.5C7.08579 10.125 6.75 10.4608 6.75 10.875C6.75 11.2892 7.08579 11.625 7.5 11.625H10L10 14.125C10 14.5392 10.3358 14.875 10.75 14.875C11.1642 14.875 11.5 14.5392 11.5 14.125V11.625H14C14.4142 11.625 14.75 11.2892 14.75 10.875C14.75 10.4608 14.4142 10.125 14 10.125H11.5V7.625Z",fill:"white"})]}),J={position:"absolute",height:0,right:0,left:0,borderRadius:"100%",pointerEvents:"all",display:"flex",justifyContent:"center",alignItems:"center"};function X({insertionPoint:e,onHover:t,disabled:n}){const o=(0,r.sO)(null),i="before"===e?{top:0}:{bottom:0},s=n?"rgba(189, 193, 204, 1)":"var(--border-color)";return(0,M.tZ)("div",{ref:o,onMouseEnter:()=>{if(!n&&o.current){const{x:n,y:r,width:i,height:s}=o.current.getBoundingClientRect();t({x:n,y:r,width:i,height:s,insertionPoint:e})}},style:{...J,...i,fill:s},children:W})}class G extends HTMLElement{}G.tagName="shopify-editor-preview-block",(0,H.z)(G);const D=(0,M.tZ)("svg",{width:10,height:10,fill:"rgba(255, 255, 255, 0.6)",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10",children:(0,M.tZ)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 3.84615C7.76143 3.84615 10 2.98462 10 1.92308C10 0.861538 7.76143 0 5 0C2.23857 0 0 0.861538 0 1.92308C0 2.98462 2.23857 3.84615 5 3.84615ZM5 5.38462C7.05 5.38462 8.81214 4.91 9.58429 4.23077C9.85143 4.46615 10 4.72615 10 5C10 6.06154 7.76143 6.92308 5 6.92308C2.23857 6.92308 0 6.06154 0 5C0 4.72615 0.148571 4.46615 0.415714 4.23077C1.18714 4.91 2.95 5.38462 5 5.38462ZM5 8.46154C7.05 8.46154 8.81214 7.98692 9.58429 7.30769C9.85143 7.54308 10 7.80308 10 8.07692C10 9.13846 7.76143 10 5 10C2.23857 10 0 9.13846 0 8.07692C0 7.80308 0.148571 7.54308 0.415714 7.30769C1.18714 7.98692 2.95 8.46154 5 8.46154Z",fill:"#00A0AC"})}),K={background:"#EBF9FC",borderRadius:"0px 1px 0px 2px",width:"20px",height:"20px",opacity:"0.8",textAlign:"center"};function U({children:e,icon:t}){const n=null==t?null:(0,M.tZ)("div",{style:K,children:t});return(0,r.az)(z.tagName,{style:{position:"absolute",inset:"1px",border:"1px dotted #449DA7",borderRadius:"2px",display:"flex",justifyContent:"end"}},(0,M.BX)(M.HY,{children:[n,e]}))}const Q=50,ee=200;function te({children:e,color:t,hidden:n,hovered:o,hoverSource:i,hoverBackgroundColor:s,id:l,label:d,maxBlocksExceeded:a,selected:m,mobile:f,repeaterId:p,previewBorderRadius:h,domId:v,onResize:b,onAddButtonHover:g}){const[y,w]=(0,r.eJ)(null),[x,C]=(0,r.eJ)((()=>new WeakMap)),k=P(),_=(0,r.I4)(((e,t)=>{C((n=>(t?n.set(e,t):n.delete(e),n)))}),[]),E=null==y?void 0:y.reduce(((e,t)=>{const n=x.get(t);return n&&e.push(n),e}),[]);(0,r.bt)((()=>{b&&(y?E&&(null==E?void 0:E.length)>1&&b(function(e){const t=Math.max(...e.map((({left:e,width:t})=>e+t))),n=Math.max(...e.map((({top:e,height:t})=>e+t))),o=Math.min(...e.map((({top:e})=>e))),r=Math.min(...e.map((({offsetTop:e})=>e))),i=Math.min(...e.map((({offsetLeft:e})=>e))),s=Math.min(...e.map((({left:e})=>e)));return{top:o,offsetTop:r,offsetLeft:i,left:s,width:t-s,height:n-o}}(E)):b(null))}),[E,y,b]),(0,r.bt)((()=>{const e=k?function(e,t){return Array.from(e.querySelectorAll(u(c,t,!0))??[])}(k,v):null;w(e)}),[v,k]);const S=e=>g(e,l),R=!f&&o&&!m&&!n&&"preview"===i,j=m?D:null,H=!n&&(m||o)?(0,M.tZ)(U,{icon:j,children:e}):null,I=R?(0,M.tZ)(X,{disabled:a,insertionPoint:"before",onHover:S}):null,Z=R?(0,M.tZ)(X,{disabled:a,insertionPoint:"after",onHover:S}):null,B=null==y?void 0:y.map(((e,i)=>(0,r.az)(G.tagName,{key:e},(0,M.tZ)(F,{element:e,onResize:t=>_(e,t),color:t,hidden:n,hovered:o,hoverBackgroundColor:s,label:O(String(i)),selected:m,observeVisibility:!0,previewBorderRadius:h,children:e=>{const t=0===i&&e&&e.width>=ee&&e.height>=Q,n=i===y.length-1;return(0,M.BX)(M.HY,{children:[t&&I,H,n&&Z]})}}))));return(0,M.tZ)(M.HY,{children:B});function O(e){if(p===e)return d}}te.customElement=G;const ne=50,oe=200;function re({children:e,color:t,hidden:n,hovered:o,hoverSource:i,hoverBackgroundColor:s,id:l,domId:d,label:a,maxBlocksExceeded:m,selected:f,mobile:p,previewBorderRadius:h,onResize:v,onAddButtonHover:b}){const[g,y]=(0,r.eJ)(null),w=P();(0,r.bt)((()=>{y(w?function(e,t){return e.querySelector(u(c,t))}(w,d):null)}),[d,w]);const x=e=>b(e,l),C=!p&&o&&!f&&!n&&"preview"===i,k=C?(0,M.tZ)(X,{disabled:m,insertionPoint:"before",onHover:x}):null,_=C?(0,M.tZ)(X,{disabled:m,insertionPoint:"after",onHover:x}):null;return(0,r.az)(G.tagName,{},(0,M.tZ)(F,{element:g,onResize:v,color:t,hidden:n,hovered:o,hoverBackgroundColor:s,label:a,selected:f,observeVisibility:!0,previewBorderRadius:h,children:t=>{const n=t&&t.width>=oe&&t.height>=ne?k:null;return(0,M.BX)(M.HY,{children:[n,e,_]})}}))}function ie({children:e,color:t,hidden:n,hovered:o,hoverSource:r,hoverBackgroundColor:i,id:s,label:l,maxBlocksExceeded:d,selected:c,mobile:a,previewBorderRadius:u,repeaterId:m,repeater:f,domId:p,onResize:h,onAddButtonHover:v}){const b={color:t,hidden:n,hovered:o,hoverSource:r,hoverBackgroundColor:i,id:s,label:l,maxBlocksExceeded:d,selected:c,mobile:a,previewBorderRadius:u,onResize:h,onAddButtonHover:v,domId:p};return f?(0,M.tZ)(te,{...b,repeaterId:m,children:e}):(0,M.tZ)(re,{...b,children:e})}re.customElement=G;class se extends HTMLElement{}se.tagName="shopify-editor-preview-label",(0,H.z)(se);const le={width:10,height:10,fill:"rgba(255, 255, 255, 0.6)",xmlns:"http://www.w3.org/2000/svg"},de=(0,M.tZ)("svg",{...le,viewBox:"2 2 15 15",children:(0,M.tZ)("path",{d:"M12 16C11.744 16 11.488 15.902 11.293 15.707L6.293 10.707C5.902 10.316 5.902 9.684 6.293 9.293L11.293 4.293C11.684 3.902 12.316 3.902 12.707 4.293C13.098 4.684 13.098 5.316 12.707 5.707L8.414 10L12.707 14.293C13.098 14.684 13.098 15.316 12.707 15.707C12.512 15.902 12.256 16 12 16Z"})}),ce=(0,M.tZ)("svg",{...le,viewBox:"2 2 15 15",children:(0,M.tZ)("path",{d:"M6.707 5.293a1 1 0 0 0-1.414 1.414L8.586 10l-3.293 3.293a1 1 0 1 0 1.414 1.414L10 11.414l3.293 3.293a1 1 0 0 0 1.414-1.414L11.414 10l3.293-3.293a1 1 0 0 0-1.414-1.414L10 8.586 6.707 5.293Z"})}),ae=(0,M.BX)("svg",{...le,viewBox:"0 0 10 10",children:[(0,M.tZ)("path",{d:"M0.5 0C0.223858 0 0 0.223858 0 0.5V1.5C0 1.77614 0.223858 2 0.5 2C0.776142 2 1 1.77614 1 1.5V1H1.5C1.77614 1 2 0.776142 2 0.5C2 0.223858 1.77614 0 1.5 0H0.5Z"}),(0,M.tZ)("path",{d:"M9.5 0C9.77614 0 10 0.223858 10 0.5V1.5C10 1.77614 9.77614 2 9.5 2C9.22386 2 9 1.77614 9 1.5V1H8.5C8.22386 1 8 0.776142 8 0.5C8 0.223858 8.22386 0 8.5 0H9.5Z"}),(0,M.tZ)("path",{d:"M5.5 1H4.5C4.22386 1 4 0.776142 4 0.5C4 0.223858 4.22386 0 4.5 0H5.5C5.77614 0 6 0.223858 6 0.5C6 0.776142 5.77614 1 5.5 1Z"}),(0,M.tZ)("path",{d:"M4.5 10H5.5C5.77614 10 6 9.77614 6 9.5C6 9.22386 5.77614 9 5.5 9H4.5C4.22386 9 4 9.22386 4 9.5C4 9.77614 4.22386 10 4.5 10Z"}),(0,M.tZ)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 7C9.55229 7 10 6.55228 10 6V4C10 3.44772 9.55229 3 9 3H1C0.447715 3 0 3.44772 0 4V6C0 6.55228 0.447715 7 1 7H9ZM9 6H1V4H9V6Z"}),(0,M.tZ)("path",{d:"M9.5 10C9.77614 10 10 9.77614 10 9.5V8.5C10 8.22386 9.77614 8 9.5 8C9.22386 8 9 8.22386 9 8.5V9H8.5C8.22386 9 8 9.22386 8 9.5C8 9.77614 8.22386 10 8.5 10H9.5Z"}),(0,M.tZ)("path",{d:"M0.5 8C0.223858 8 0 8.22386 0 8.5V9.5C0 9.77614 0.223858 10 0.5 10H1.5C1.77614 10 2 9.77614 2 9.5C2 9.22386 1.77614 9 1.5 9H1V8.5C1 8.22386 0.776142 8 0.5 8Z"})]}),ue=(0,M.BX)("svg",{...le,viewBox:"0 0 10 10",children:[(0,M.tZ)("path",{d:"M0.5 0H3.5C3.77614 0 4 0.223858 4 0.5C4 0.776142 3.77614 1 3.5 1H1V3.5C1 3.77614 0.776142 4 0.5 4C0.223858 4 0 3.77614 0 3.5V0.5C0 0.223858 0.223858 0 0.5 0Z"}),(0,M.tZ)("path",{d:"M10 3.5V0.5C10 0.223858 9.77614 0 9.5 0H6.5C6.22386 0 6 0.223858 6 0.5C6 0.776142 6.22386 1 6.5 1H9V3.5C9 3.77614 9.22386 4 9.5 4C9.77614 4 10 3.77614 10 3.5Z"}),(0,M.tZ)("path",{d:"M6.5 10H9.5C9.77614 10 10 9.77614 10 9.5V6.5C10 6.22386 9.77614 6 9.5 6C9.22386 6 9 6.22386 9 6.5V9H6.5C6.22386 9 6 9.22386 6 9.5C6 9.77614 6.22386 10 6.5 10Z"}),(0,M.tZ)("path",{d:"M0 6.5V9.5C0 9.77614 0.223858 10 0.5 10H3.5C3.77614 10 4 9.77614 4 9.5C4 9.22386 3.77614 9 3.5 9H1V6.5C1 6.22386 0.776142 6 0.5 6C0.223858 6 0 6.22386 0 6.5Z"})]}),me={display:"flex",alignItems:"center",gap:5,maxWidth:"100%",padding:"4px 10px 4px 8px",backgroundColor:"var(--background-color)",color:"#FFF",cursor:"default",pointerEvents:"all",userSelect:"none"},fe={fontFamily:"sans-serif",fontSize:12,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},pe={cursor:"pointer"},he={borderTopLeftRadius:4,borderTopRightRadius:4},ve={position:"relative",top:"var(--border-width)",left:"var(--border-width)",borderTopLeftRadius:"max(0px, calc(var(--border-top-left-radius) - var(--border-width) - 1px))",borderBottomRightRadius:4,transform:"translateY(100%)"};function be({children:e,color:t,fontFamily:n,hoverColor:o,hoverIcon:i,icon:s,onClick:l}){const d=(0,r.qp)(B),[c,a]=(0,r.eJ)(!1),u=l?()=>l():void 0,m=void 0!==l,f=l?pe:null,p=d?ve:he,h=function(){if(c){if("back"===i)return de;if("close"===i)return ce}if("section"===s)return ae;if("block"===s)return ue;return null}();return(0,r.az)(se.tagName,{style:{...me,...f,...p,fontFamily:n??me.fontFamily,"--background-color":c&&m?o:t},onClick:u,onMouseOver:()=>a(!0),onMouseOut:()=>a(!1)},(0,M.BX)(M.HY,{children:[h,(0,M.tZ)("span",{style:fe,children:e})]}))}function ge(e){const[t,n]=(0,r.eJ)({height:0,width:0}),o=(0,r.I4)((()=>{n({height:e.offsetHeight,width:e.offsetWidth})}),[e]);return(0,g.y)({element:e,onResize:o}),t}var ye=n("./packages/@editor/storefront-controller/async-modules/user-interface/components/GlobalContext/GlobalContext.tsx");const we=(0,r.kr)({enable(){},disable(){}}),xe="{ pointer-events: none !important; }";function Ce({selected:e,children:t}){var n,o;const i=null==e||null===(n=e.section)||void 0===n?void 0:n.id,s=null==e||null===(o=e.block)||void 0===o?void 0:o.id,m=(0,r.sO)(null),{rootElement:f}=(0,r.qp)(ye.k),p=(0,r.Ye)((()=>{const e=function(e){if(!e)return`${d} ${xe}`;const t=u(l,e),n=[`${t} { cursor: default; }`,`${d}:not(${t}) ${xe}`];return n.join(" ")}(i),t=function(e,t){if(!e)return"";const n=u(l,e);if(!t)return`${n} ${a} ${xe}`;const[,o]=t.split("/"),r=u(c,o);return`${n} ${a}:not(${r}) ${xe}`}(i,s);return`${e}${t}`}),[i,s]),h=(0,r.Ye)((()=>({enable(){m.current&&m.current.setAttribute("media","screen")},disable(){m.current&&m.current.setAttribute("media","not all")}})),[m]),v=f?(0,r.jz)((0,M.tZ)("style",{ref:m,media:"screen",children:p}),f):null;return(0,M.BX)(M.HY,{children:[(0,M.tZ)(we.Provider,{value:h,children:t}),v]})}var ke=n("./packages/@editor/storefront-controller/async-modules/user-interface/components/InterfaceRoot/InterfaceRoot.tsx");function _e(){return(0,r.qp)(we)}const Ee=25,Se=10,Re=100;const je=250;function He({mobile:e,hovered:t,uniqueIdEnabled:n,onHover:o,onScrollEnd:i,onScrollStart:s,onSelect:l}){return function({hovered:e,mobile:t,uniqueIdEnabled:n,onHover:o}){const i=v(),s=(0,r.sO)(!1),l=(0,r.sO)(null),d=(0,r.sO)(null),c=_e(),a=y(e),u=y(o),m=(0,r.I4)((e=>{null==e.relatedTarget&&(s.current=!1)}),[]),f=(0,r.I4)((()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.coordinates;if(l.current=null,d.current=null,!i.current||!s.current||!t)return;c.disable();const o=document.elementFromPoint(t.x,t.y),r=o instanceof ke.m?null:o;if(c.enable(),!r)return;const m=p(r,n);var f,h,v,b,g,y;f=m,h=a.current,((null==f?void 0:f.section.id)!=(null==h?void 0:h.section.id)||(null==f||null===(v=f.block)||void 0===v?void 0:v.id)!=(null==h||null===(b=h.block)||void 0===b?void 0:b.id)||(null==f||null===(g=f.block)||void 0===g?void 0:g.repeaterId)!=(null==h||null===(y=h.block)||void 0===y?void 0:y.repeaterId))&&u.current(m)}),[i,c,n,a,u]);E({event:"mousemove",listener:(0,r.I4)((e=>{const{clientX:t,clientY:n}=e;s.current||(s.current=!0);const o=Date.now(),r={x:t,y:n};d.current||(d.current={coordinates:r,timestamp:o});const i=o-d.current.timestamp,c=d.current.coordinates.x-r.x,a=d.current.coordinates.y-r.y,u={x:i?Math.round(c/i*1e3):0,y:i?Math.round(a/i*1e3):0};d.current={coordinates:r,timestamp:o},l.current&&clearTimeout(l.current);const m=Math.abs(u.x)>=Ee||Math.abs(u.y)>=Ee?Re:Se;l.current=setTimeout(f,m)}),[f]),target:document,options:{capture:!0},disabled:t}),E({event:"mouseout",listener:m,target:document,options:{capture:!0},disabled:t})}({hovered:t,onHover:o,mobile:e,uniqueIdEnabled:n}),function({onSelect:e,uniqueIdEnabled:t}){const n=(0,r.sO)(null),o=_e(),i=(0,r.I4)((e=>{if(!e.isPrimary||0!==e.button)return;n.current=null;const{clientX:r,clientY:i}=e;o.disable();const s=document.elementFromPoint(r,i);if(o.enable(),!s)return;const l=p(s,t);l&&(n.current=l)}),[o,t]),s=(0,r.I4)((()=>{n.current&&(e(n.current),n.current=null)}),[e]);E({event:"pointerup",listener:i,target:document,options:{capture:!0}}),E({event:"click",listener:s,target:document,options:{capture:!0}})}({onSelect:l,uniqueIdEnabled:n}),function({onScrollStart:e,onScrollEnd:t}){const n=v(),o=(0,r.sO)(null),i=(0,r.sO)(0),s=(0,r.sO)(!1),l=(0,r.I4)((()=>{s.current=!0}),[]),d=(0,r.I4)((()=>{s.current=!1}),[]);E({event:"scroll",listener:(0,r.I4)((r=>{n.current&&(r.target===document||r.target===document.scrollingElement)&&((s.current&&0===i.current||!s.current&&1===i.current)&&e(),null!=o.current&&clearTimeout(o.current),i.current++,o.current=setTimeout((()=>{o.current=null,s.current=!1,i.current=0,n.current&&t()}),je))}),[n,e,t]),target:document,options:{capture:!0,passive:!0}}),E({event:"wheel",listener:l,target:document,options:{passive:!0}}),E({event:"keydown",listener:l,target:document,debounce:{leading:!0,wait:100},options:{capture:!0,passive:!0}}),E({event:"keyup",listener:d,target:document,debounce:{wait:10},options:{capture:!0,passive:!0}})}({onScrollEnd:i,onScrollStart:s}),null}class Ie extends HTMLElement{}Ie.tagName="shopify-editor-preview-inspector",(0,H.z)(Ie);var Me=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts"),Ze=n("./packages/@editor/storefront-controller/modules/theme-api/theme-api.ts");const Be={position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:9999999};function Oe({children:e,mobile:t,hovered:n,selected:o,uniqueIdEnabled:i,onHover:s,onSelect:l,onScrollEnd:d,onScrollStart:c}){const{width:a,height:u}=ge(document.documentElement),{width:m,height:f}=ge(document.body),p=Math.max(a,m),h=Math.max(u,f);return(0,r.d4)((()=>{if((0,Me.WN)(window)){const{Shopify:e}=window;(0,Ze.qf)({type:"inspector:activate",target:document}),e.inspectMode=!0}return()=>{if((0,Me.WN)(window)){const{Shopify:e}=window;(0,Ze.qf)({type:"inspector:deactivate",target:document}),e.inspectMode=!1}}}),[]),(0,r.az)(Ie.tagName,{style:{...Be,minHeight:h,minWidth:p}},(0,M.BX)(Ce,{selected:o,children:[(0,M.tZ)(He,{mobile:t,hovered:n,uniqueIdEnabled:i,onHover:s,onSelect:l,onScrollEnd:d,onScrollStart:c}),e]}))}class Te extends HTMLElement{}Te.tagName="shopify-editor-preview-section",(0,H.z)(Te);const ze=50,Ne=200;function Le(e,t){if(!e)return null;switch(t){case"before":return function(e){const t=m(),n=t.indexOf(e);return t[n-1]}(e);case"after":return function(e){const t=m(),n=t.indexOf(e);return t[n+1]}(e);default:return null}}const $e=55;function Ae(e,t,n){const o=function(e,t,n){if(!e||!t)return null;const o=e.getBoundingClientRect(),r=t.getBoundingClientRect();return"before"===n?o.top-r.bottom:r.top-o.bottom}(e,t,n);return null!=o&&o<=$e}function Fe({children:e,color:t,fleeting:n,hidden:o,hovered:i,hoverBackgroundColor:l,hoverSource:d,id:c,label:a,selected:u,selectedId:m,canAddSection:f,showAddButton:p,labelWithin:h,mobile:v,previewBorderRadius:b,onResize:g,onAddButtonHover:y}){const[w,x]=(0,r.eJ)(null),C=(0,r.I4)((()=>{x(function(e){return document.getElementById(`${s}${e}`)}(c))}),[c]),k=(0,r.I4)((e=>{const{insertionPoint:t}=e,n=Le(w,t);y({...e,isOverlapping:Ae(w,n,t)},c)}),[y,w,c]);(0,r.bt)(C,[C]),function(e,t){const n=(0,r.I4)((n=>{n.detail.sectionId===e&&t()}),[t,e]);E({target:document,event:"shopify:section:load",listener:n}),E({target:document,event:"shopify:section:unload",listener:n}),E({target:document,event:"shopify:section:reorder",listener:n})}(c,C);const _=!v&&i&&!u&&!o&&p&&"preview"===d,S=_?(0,M.tZ)(X,{insertionPoint:"before",disabled:!f,onHover:k}):null,R=_?(0,M.tZ)(X,{insertionPoint:"after",disabled:!f,onHover:k}):null,j=(0,r.sO)(null);return function({element:e,id:t,disable:n}){(0,r.d4)((()=>{const o=e.current;o&&t&&!n&&o.animate({opacity:[1,1,1,0],easing:"ease-out"},1400)}),[t,e,n])}({element:j,id:m,disable:!n}),(0,r.az)(Te.tagName,{ref:e=>j.current=e,style:{opacity:n?0:1}},(0,M.tZ)(q.Provider,{value:w,children:(0,M.tZ)(F,{color:t,element:w,hidden:o,hovered:i,hoverBackgroundColor:l,label:a,labelWithin:h,selected:u,onResize:g,previewBorderRadius:b,children:t=>{const n=t&&t.width>=Ne&&t.height>=ze?S:null;return(0,M.BX)(M.HY,{children:[n,e,R]})}})}))}window.addEventListener("load",(function(){(0,o.E)({components:{Block:ie,Label:be,PreviewInspector:Oe,Section:Fe}})}))},"./packages/@editor/storefront-controller/async-modules/user-interface/components/GlobalContext/GlobalContext.tsx":(e,t,n)=>{"use strict";n.d(t,{k:()=>o});const o=(0,n("./node_modules/preact/compat/dist/compat.module.js").kr)({})},"./packages/@editor/storefront-controller/async-modules/user-interface/components/InterfaceRoot/InterfaceRoot.tsx":(e,t,n)=>{"use strict";n.d(t,{m:()=>s,v:()=>d});var o=n("./node_modules/preact/compat/dist/compat.module.js"),r=n("./packages/@editor/storefront-controller/async-modules/user-interface/utilities/custom-elements.ts"),i=n("./node_modules/preact/compat/jsx-runtime.mjs");class s extends HTMLElement{constructor(){super()}connectedCallback(){"true"===this.getAttribute("shadow-dom")&&this.attachShadow({mode:"open"})}}s.tagName="shopify-editor-interface";const l={all:"initial"};function d({children:e,shadowDOM:t}){const[n,r]=(0,o.eJ)(null),d=t&&null!=n&&n.shadowRoot?(0,o.jz)(e,n.shadowRoot):null,c=(0,o.az)(s.tagName,{style:t?l:void 0,ref:r,"shadow-dom":t},t?null:e);return(0,i.BX)(i.HY,{children:[c,d]})}(0,r.z)(s)},"./packages/@editor/storefront-controller/async-modules/user-interface/types.ts":(e,t,n)=>{"use strict";n.d(t,{M:()=>o});let o=function(e){return e.RemoteHost="shopify-editor",e}({})},"./packages/@editor/storefront-controller/async-modules/user-interface/user-interface.ts":(e,t,n)=>{"use strict";n.d(t,{E:()=>w});var o=n("./packages/@editor/storefront-controller/modules/utilities/domain.ts");let r=function(e){return e.RemoteInitialize="RemoteUI::Initialize",e.HostReady="RemoteUI::Host::Ready",e}({});var i=n("./packages/@editor/storefront-controller/modules/utilities/emit-event.ts"),s=n("./node_modules/preact/compat/dist/compat.module.js"),l=n("./packages/@editor/storefront-controller/async-modules/user-interface/types.ts"),d=n("./packages/@editor/storefront-controller/async-modules/user-interface/utilities/custom-elements.ts");class c extends HTMLElement{}c.tagName=l.M.RemoteHost,c.create=()=>document.createElement(c.tagName),(0,d.z)(c);var a=n("./packages/@editor/storefront-controller/async-modules/user-interface/components/GlobalContext/GlobalContext.tsx"),u=n("./node_modules/@remote-ui/core/build/esnext/receiver.esnext"),m=n("./node_modules/@remote-ui/rpc/build/esnext/endpoint.esnext"),f=n("./node_modules/@remote-ui/rpc/build/esnext/adaptors/message-port.esnext"),p=n("./node_modules/@remote-ui/react/build/esnext/host/controller.esnext"),h=n("./node_modules/@remote-ui/react/build/esnext/host/RemoteRenderer.esnext"),v=n("./node_modules/preact/compat/jsx-runtime.mjs");function b({components:e,onTeardown:t,port:n}){const o=(0,s.Ye)((()=>(0,p.E)(e)),[e]),[r]=(0,s.eJ)(u.EX);return(0,s.d4)((()=>{(0,m.dg)((0,f.E)(n)).expose({initialize:()=>r.receive,teardown:t}),n.start()}),[n,r,t]),(0,v.tZ)(h.K,{receiver:r,controller:o})}var g=n("./packages/@editor/storefront-controller/async-modules/user-interface/components/InterfaceRoot/InterfaceRoot.tsx");let y=null;function w(e){try{var t;if(window.__shopify_internal_sfm_ui)return;window.__shopify_internal_sfm_ui=!0,window.addEventListener("message",(t=>{if(t.origin===(0,o.kY)())switch(t.data){case r.RemoteInitialize:{const[n]=t.ports;if(!n)return;!function(e,t){y||(y=c.create()),document.querySelector(c.tagName)||document.body.appendChild(y);const n={rootElement:y};(0,s.sY)((0,v.tZ)(a.k.Provider,{value:n,children:(0,v.tZ)(b,{onTeardown:function(){y&&((0,s.uy)(y),y.remove(),y=null)},components:{...t,InterfaceRoot:g.v},port:e})}),y)}(n,e.components);break}}})),window.parent.postMessage({type:r.HostReady,version:null===(t=window)||void 0===t?void 0:t.name},(0,o.kY)())}catch(n){(0,i.K)("StorefrontEvent::Error",{errorMessage:n.message,stackTrace:n.stack})}}},"./packages/@editor/storefront-controller/async-modules/user-interface/utilities/custom-elements.ts":(e,t,n)=>{"use strict";function o(e){customElements.get(e.tagName)||customElements.define(e.tagName,e)}n.d(t,{z:()=>o})},"./packages/@editor/storefront-controller/hooks/useResizeObserver.ts":(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var o=n("./node_modules/preact/compat/dist/compat.module.js");function r({element:e,onResize:t}){const n=(0,o.sO)(null),r=(0,o.sO)({element:null,onResize:t}),i=(0,o.I4)((()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame((()=>{const{element:e,onResize:t}=r.current;e&&(null==t||t(e))}))}),[]),[s]=(0,o.eJ)((()=>new ResizeObserver(i)));(0,o.bt)((()=>{const t=r.current.element;e!==t&&(t&&s.unobserve(t),e&&s.observe(e),r.current.element=e)}),[e,t,s]),(0,o.d4)((function(){return()=>s.disconnect()}),[s])}},"./packages/@editor/storefront-controller/modules/theme-api/theme-api.ts":(e,t,n)=>{"use strict";function o({type:e,target:t,data:n}){(function(e,t,n={}){const o=document.createEvent("Event");o.detail=n.data,null==n.event&&(n.event={}),null==n.bubbles&&(n.bubbles=!0),null==n.cancelable&&(n.cancelable=!0),Object.keys(n.event||{}).forEach((e=>{o[e]=n.event[e]})),o.initEvent(t,n.bubbles,n.cancelable),e.dispatchEvent(o)})(t,`shopify:${e}`,n?{data:n}:void 0)}function r(e){console.warn(e)}n.d(t,{qf:()=>o,KE:()=>r})},"./packages/@editor/storefront-controller/modules/utilities/domain.ts":(e,t,n)=>{"use strict";n.d(t,{kY:()=>r,w7:()=>i});var o=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts");function r(){return`https://${function(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.editorDomain}()}`}function i(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.shop}},"./packages/@editor/storefront-controller/modules/utilities/emit-event.ts":(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var o=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts"),r=n("./packages/@editor/storefront-controller/modules/utilities/domain.ts");function i(e,t){(0,o.YM)().parent.postMessage({type:e,payload:t},(0,r.kY)())}},"./packages/@editor/storefront-controller/modules/utilities/globals.ts":(e,t,n)=>{"use strict";function o(){return i}n.d(t,{WN:()=>l,YM:()=>o,er:()=>s});const r=window.Shopify,i={parent:window.parent,Shopify:r&&{...r}};function s(){return o().Shopify}function l(e){return"Shopify"in e}},"./packages/@editor/utilities/ancestors/utilities/buildGid.ts":(e,t,n)=>{"use strict";n.d(t,{c:()=>o});const o="__"},"./node_modules/lodash/_Symbol.js":(e,t,n)=>{var o=n("./node_modules/lodash/_root.js").Symbol;e.exports=o},"./node_modules/lodash/_baseGetTag.js":(e,t,n)=>{var o=n("./node_modules/lodash/_Symbol.js"),r=n("./node_modules/lodash/_getRawTag.js"),i=n("./node_modules/lodash/_objectToString.js"),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},"./node_modules/lodash/_baseTrim.js":(e,t,n)=>{var o=n("./node_modules/lodash/_trimmedEndIndex.js"),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},"./node_modules/lodash/_freeGlobal.js":(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},"./node_modules/lodash/_getRawTag.js":(e,t,n)=>{var o=n("./node_modules/lodash/_Symbol.js"),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,l=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(d){}var r=s.call(e);return o&&(t?e[l]=n:delete e[l]),r}},"./node_modules/lodash/_objectToString.js":e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_root.js":(e,t,n)=>{var o=n("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},"./node_modules/lodash/_trimmedEndIndex.js":e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},"./node_modules/lodash/debounce.js":(e,t,n)=>{var o=n("./node_modules/lodash/isObject.js"),r=n("./node_modules/lodash/now.js"),i=n("./node_modules/lodash/toNumber.js"),s=Math.max,l=Math.min;e.exports=function(e,t,n){var d,c,a,u,m,f,p=0,h=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=d,o=c;return d=c=void 0,p=t,u=e.apply(o,n)}function y(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-p>=a}function w(){var e=r();if(y(e))return x(e);m=setTimeout(w,function(e){var n=t-(e-f);return v?l(n,a-(e-p)):n}(e))}function x(e){return m=void 0,b&&d?g(e):(d=c=void 0,u)}function C(){var e=r(),n=y(e);if(d=arguments,c=this,f=e,n){if(void 0===m)return function(e){return p=e,m=setTimeout(w,t),h?g(e):u}(f);if(v)return clearTimeout(m),m=setTimeout(w,t),g(f)}return void 0===m&&(m=setTimeout(w,t)),u}return t=i(t)||0,o(n)&&(h=!!n.leading,a=(v="maxWait"in n)?s(i(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b),C.cancel=function(){void 0!==m&&clearTimeout(m),p=0,d=f=c=m=void 0},C.flush=function(){return void 0===m?u:x(r())},C}},"./node_modules/lodash/isObject.js":e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash/isObjectLike.js":e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isSymbol.js":(e,t,n)=>{var o=n("./node_modules/lodash/_baseGetTag.js"),r=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},"./node_modules/lodash/now.js":(e,t,n)=>{var o=n("./node_modules/lodash/_root.js");e.exports=function(){return o.Date.now()}},"./node_modules/lodash/toNumber.js":(e,t,n)=>{var o=n("./node_modules/lodash/_baseTrim.js"),r=n("./node_modules/lodash/isObject.js"),i=n("./node_modules/lodash/isSymbol.js"),s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=l.test(e);return n||d.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}}},e=>{e.O(0,["vendors-node_modules_remote-ui_react_build_esnext_host_RemoteRenderer_esnext-node_modules_rem-ac0a96"],(()=>{return t="./packages/@editor/storefront-controller/async-modules/preview-inspector/index.ts",e(e.s=t);var t}));var t=e.O();_ShopifyEditorModules=t}]);