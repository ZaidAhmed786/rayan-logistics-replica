(self.webpackChunk_ShopifyEditorModules=self.webpackChunk_ShopifyEditorModules||[]).push([["storefrontModules"],{"./packages/@editor/storefront-controller/modules/index.ts":(e,t,n)=>{"use strict";n.r(t);let o=function(e){return e.ShopifyContentForIndexTemplate="shopify-index-template",e.Index="index",e.Article="article",e.Blog="blog",e.Cart="cart",e.Collection="collection",e.Product="product",e.Page="page",e.Search="search",e.ListCollections="list-collections",e.Checkout="checkout",e.CheckoutOne="checkout-one",e.Customer="customer",e.Custom="page",e.NotFound="404",e.GiftCard="gift_card",e.Password="password",e.Policy="policy",e.Accessory="accessory",e.CustomerAccount="customer/account",e.CustomersAccount="customers/account",e.CustomersActivateAccount="customers/activate_account",e.CustomersAddresses="customers/addresses",e.CustomersLogin="customers/login",e.CustomersOrder="customers/order",e.CustomersRegister="customers/register",e.CustomersResetPassword="customers/reset_password",e.Metaobject="metaobject",e}({});var r=n("./node_modules/qs/lib/index.js");const s=/[|\\{}()[\]^$+*?.]/g;function i(e){return[...new Set(e)]}var c=n("./packages/@editor/storefront-controller/modules/utilities/domain.ts");const l=" BEGIN template ",a=" END template ",u=" BEGIN content_for_index ",d=" END content_for_index ",f=" BEGIN sections: ",m=" END sections: ",p="shopify-section",h=" BEGIN main ",g=" END main ",y="OnlineStoreEditorData",S="oseid",w="osectx",E="oseResourceUpdatedAt",b="OnlineStoreEditorShopifyGlobalData";var v=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts"),C=n("./packages/@editor/storefront-controller/modules/utilities/emit-event.ts");function I(e){const t=(0,v.er)(),{oseid:n,shop:o,editorDomain:r}=t||{},s=JSON.stringify({shop:o,oseId:n,editorDomain:r}),i=document.querySelector(`#${b}`),c=`\n      ${e}\n      window.Shopify details = ${s}\n      Global shopify data script tag exists: ${Boolean(i)}`;(0,C.K)("StorefrontEvent::Error",{errorMessage:c})}const k={error:!1},A={error:!0};function M(e,t){$("message",(async n=>{const o=(0,c.kY)();if(n.origin===o&&n.data.type===e){const e=n.data.payload;let s;try{const o=await t(e,n);s=o?{...o,error:!1}:k}catch(r){s={...A,errorMessage:r.message}}(0,v.YM)().parent.postMessage({id:n.data.id,type:n.data.type,payload:s},o)}}))}function $(e,t,n){window.addEventListener(e,(e=>{N(t,e)}),n)}function x(e,t,n){document.addEventListener(e,(e=>{N(t,e)}),n)}function T(e){"complete"===document.readyState?N(e):$("load",e)}async function N(e,t){try{await e(t)}catch(n){(0,C.K)("StorefrontEvent::Error",{errorMessage:n.message,stackTrace:n.stack})}}function O(e){try{const{search:t,pathname:n,hostname:o}=new URL(e);return{search:t,pathname:n,hostname:o}}catch{const t=document.createElement("a");t.href=e;const{search:n,pathname:o,hostname:r}=t;return{search:n,pathname:o,hostname:r}}}function P(e,t){try{return new URL(e).searchParams.get(t)}catch{const{search:n}=O(e);return(0,r.parse)("?"===n.charAt(0)?n.substr(1):n)[t]}}function _(e,t=50,n={isImmediate:!1,isTrailing:!0}){let o;const r=(r,...s)=>{const i=n.isImmediate&&null==o;null!=o&&clearTimeout(o),o=setTimeout((function(){o=null,n.isTrailing&&e.apply(r,s)}),t),i&&e.apply(r,s)};return r.cancel=()=>o&&clearTimeout(o),r}let B=function(e){return e.ContentForIndex="INDEX",e.Template="JSON_TEMPLATE",e.Static="STATIC",e.Group="SECTION_GROUP",e}({});function F(e){return e.scope===B.Group}var H=n("./packages/@editor/utilities/ancestors/utilities/buildGid.ts");function L(e){return{transform:[`translate3d(${e.x}px, ${e.y}px, 0)`,"translate3d(0,0,0)"]}}const D={duration:200,easing:"ease"};function R(e,t){null!=e&&null!=e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}function G(e,t){const n=t.getPropertyValue(e);try{return JSON.parse(n)}catch{return null}}const q=`${p}-`;const K="data-shopify-editor-block";function U(e){return`[${K}^='{"id":"${e}"']`}function j(e){const t=Q(e);return document.getElementById(t)}function J(e,t){const n=U(t);return e.querySelector(n)}function V(e,t){const n=function(e,t=document.body){return document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,{acceptNode:function(t){return t.data===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}})}(e,t);return n.nextNode()}function z(e,t){return null!=e&&Boolean(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}function Y(e,t){return null!=e&&Boolean(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)}function X(e,t,n){return Y(e,t)&&z(n,t)}function W(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Z(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function Q(e){return q+e}function ee({blockGid:e,previousPosition:t,newPosition:n,animate:o}){const r=e.split(H.c).reverse()[0];const s=document.getElementById(`shopify-block-${r}`),i=null==s?void 0:s.parentElement,c=null==i?void 0:i.matches(".shopify-blocks");if(i&&c&&t!==n&&i){const e=i.children[n],s=i.children[t];if(!e||!s||null==s||!s.matches(U(r)))return;const c=()=>{i.insertBefore(s,t<n?e.nextElementSibling:e)};if(!o)return void c();!function({previousNode:e,newNode:t,moveNodes:n}){const o=e.getBoundingClientRect(),r=t.getBoundingClientRect();n();const s=e.getBoundingClientRect(),i=t.getBoundingClientRect(),c={x:o.x-s.x,y:o.y-s.y},l={x:r.x-i.x,y:r.y-i.y};e.animate(L(c),D),t.animate(L(l),D)}({previousNode:s,newNode:e,moveNodes:c})}}function te(e,t){return Array.from(document.getElementsByClassName(p)).reduce(((n,o)=>Y(e,o)&&z(t,o)?[...n,o]:n),[])}function ne(){return V(u)}function oe(){return V(d)}function re(){return[ne(),oe()]}function se(){return V(h)}function ie(){return V(g)}function ce(){return V(l)}function le(){return V(a)}function ae(){return[ce(),le()]}function ue(e){return V(`${f}${e} `)}function de(e){return V(`${m}${e} `)}function fe(e){return F(e)?[ue(t=e.type),de(t)]:e.scope===B.ContentForIndex?re():e.scope===B.Template?ae():void 0;var t}class me extends Error{constructor(){super(`${y} script tag cannot be found`)}}let pe;function he(){return pe||ge()}function ge(){return pe=function(){const e=document.getElementById(y);if(null==e||null==e.textContent)throw new me;try{const{sectionsData:t,...n}=JSON.parse(e.textContent);return{...n,sectionsData:t.map((e=>({...e,scope:ye(e)})))}}catch{throw new Error(`${y} content cannot be parsed`)}}()}function ye(e){return null!=e.scope?e.scope:e.isContentForIndex||e.isContentForJsonTemplate?e.isContentForIndex?B.ContentForIndex:e.isContentForJsonTemplate?B.Template:B.Static:B.Static}function Se(){var e;const t=null===(e=he())||void 0===e?void 0:e.buyerContext;if(null==t)return null;const n=(null==t?void 0:t.market)??void 0,o=(null==t?void 0:t.b2b)??void 0;return null==n&&null==o?null:{market:n,b2b:o}}const we=/^\s*https?:\/\//i,Ee=/^\s*mailto:/i,be=/^\s*blob:https?:\/\//i;function ve(e){return we.test(e)}function Ce(e,t){return Me(t).test(e)}function Ie({oseid:e,osectx:t,oseResourceUpdatedAt:n}){const o={[S]:e};return t&&(o[w]=t),n&&(o[E]=n.toString()),o}function ke(e,t,n){let o=e;return o=function(e,t){const n=Me({oseid:t});return Ae(e,n)}(o,t.oseid),n&&(o=function(e,t){const n=new RegExp(`[\\?|\\&]${w}=${t}`);return Ae(e,n)}(o,n)),o}function Ae(e,t){if(t.test(e)){const[n,o]=e.split(t),r=`${n}${o}`;return r.includes("?")?r:r.replace("&","?")}return e}function Me({oseid:e}){return new RegExp(`[\\?|\\&]${S}=${e}`)}const $e=/\/.*$/,xe=/^\/admin/i,Te=/^[^/]*\/\/checkout\.(my)?shopify\.(com|io)/i,Ne=["data-url"],Oe="data-editor-form-attribute";let Pe,_e,Be=[],Fe=null,He=null;var Le=function(e){return e[e.MainButton=0]="MainButton",e[e.AuxiliaryButton=1]="AuxiliaryButton",e[e.SecondaryButton=2]="SecondaryButton",e[e.ForthButton=3]="ForthButton",e[e.FifthButton=4]="FifthButton",e}(Le||{});function De(){[...document.querySelectorAll("form")].forEach((e=>{e.hasAttribute("action")&&!Je(e.action)||e.hasAttribute(Oe)||(e.hasAttribute("action")&&e.setAttribute("action",function(e){const t=e.action;if(null==t)return t;const n=t.replace("://","").match($e);return null==n?t:je(n[0]||"/")}(e)),e.insertAdjacentHTML("beforeend",`<input type="hidden" name="${S}" value="${Pe}">`),_e&&e.insertAdjacentHTML("beforeend",`<input type="hidden" name="${w}" value='${_e}'>`),e.setAttribute(Oe,""))})),function(e){const t=document.createElement("a");e.forEach((e=>{document.querySelectorAll(`[${e}^="http"]`).forEach((n=>{const o=n.getAttribute(e);o&&Je(o)&&(t.href=o,n.setAttribute(e,Ke(t)))}))}))}(Ne)}const Re=e=>{Fe=`https://${e.permanentDomain}`,Be=e.domains,De()};const Ge=({url:e,options:t})=>{const{search:n,pathname:o}=O(window.location.href),{search:s,pathname:i,hostname:c}=O(e),{oseid:l,...a}=(0,r.parse)(n.substr(1)),u=(0,r.parse)(s.substr(1));if(o===i&&(0,r.stringify)(a)===(0,r.stringify)(u))return;const d=`https://${c}${i}?${(0,r.stringify)({...u,...Ie({oseid:Pe,oseResourceUpdatedAt:He})})}`;null!=t&&t.ignoreInBrowserHistory?window.location.replace(d):window.location.assign(d)};function qe(e){if(null==e.target)return null;const t=e.target,n=Ye(t)?t:t.closest("a");if(e.button!==Le.MainButton||null==n||!Ye(n))return null;switch(e.eventPhase){case Event.CAPTURING_PHASE:return void(Je((o=n).href)&&!Ce(o.href,(0,v.er)())&&(o.href=Ke(o),o.target=""));case Event.BUBBLING_PHASE:return function(e,t){if(e.defaultPrevented)return;const n=ve(t.href)&&Ce(t.href,(0,v.er)())&&(o=t.href,!Ee.test(o))||""===t.href;var o;if(!n){const n=`This link cannot be opened inside the editor. It will be opened in a new window (${t.href}). Click OK to continue.`;confirm(n)&&open(t.href),e.preventDefault()}}(e,n);default:return null}var o}function Ke(e){return je(`https://${e.host}${e.pathname}${e.search}${e.hash}`)}function Ue(e,t,n){const o=ke(e,(0,v.er)(),n),[r,s]=o.split("#"),i=r.indexOf("?")>=0?"&":"?",c=s?`#${s}`:"",l=t.reduce(((e,t)=>`${e}&${t.key}=${t.value}`),"").replace("&",i),a=(u=r,Be.reduce(((e,t)=>{if(null==Fe)return e;const n=O(u).hostname;if(n===Fe)return e;const o=`https://${t}`;if(n===O(o).hostname)return e.replace(o,Fe);const r=`http://${t}`;return n===O(r).hostname?e.replace(r,Fe):e}),u));var u;return`${a}${l}${c}`}function je(e){const t=[],n=Ie({oseid:Pe,osectx:_e,oseResourceUpdatedAt:He});return Object.entries(n).map((([e,n])=>{null!=n&&t.push({key:e,value:n})})),Ue(e,t,_e)}function Je(e){try{const{pathname:t}=new URL(e),n=Be.reduce(((e,t)=>{var n;return[...e,new RegExp(`^[^/]*//${n=t,n.replace(s,"\\$&")}`,"i")]}),[Te]).find((n=>n.test(e)&&!xe.test(t)));return Boolean(n)}catch{return!1}}function Ve(e){return t=e,(!be.test(t)||!Je(e))&&(ve(e)&&Je(e)||!ve(e));var t}const ze={XMLHttpRequest:e=>function(t,n,o,r,s){let i=n;return Ve(n)&&(i=je(n)),et(n),e.call(this,t,i,o,r,s)},Request:e=>function(t,n){if("object"==typeof t)return new e(t,n);let o=t;return et(t),Ve(t)&&(o=je(t)),new e(o,n)},fetch:e=>function(t,n){if("object"==typeof t)return e.call(window,t,n);let o=t;return et(t),Ve(t)&&(o=je(t)),e.call(window,o,n)},replaceState:e=>function(t,n,o){let r=o;return o&&Ve(o)&&(r=je(o)),e.call(window.history,t,n,r)},pushState:e=>function(t,n,o){let r=o;return o&&Ve(o)&&(r=je(o)),e.call(window.history,t,n,r)}};function Ye(e){return"A"===e.tagName}function Xe(){Ce(window.location.href,(0,v.er)())||history.replaceState(history.state,"",je(window.location.href))}function We(){De(),function(){const e=document.getElementsByTagName("base");for(const t of e)t.remove()}()}const Ze=_(We,1e3,{isTrailing:!0});function Qe(){new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&Ze()}))})).observe(document.body,{subtree:!0,childList:!0})}function et(e){try{const t=P(e,"section_id"),n=P(e,"sections"),o=i([...n&&n.length>0?n.split(","):[],...null==t?[]:[t]]);if(0===o.length)return;(0,C.K)("StorefrontEvent::PublicSectionRenderingApiRequest",{uniqueIds:o})}catch(t){}}function tt(){(0,C.K)("StorefrontEvent::Scroll",{pathname:window.location.pathname,xOffset:window.pageXOffset,yOffset:window.pageYOffset})}function nt(e){const{id:t,section_id:n,block_id:o,app_embed_id:r,color_scheme_id:s}=e;return n&&o?st(o,n,t):n?rt(n,t):r&&o?it(r,o,t):ot(t,s)}function ot(e,t){return`${t?`color-scheme-${t}-`:""}setting-${e}`}function rt(e,t){return`section-${e}-setting-${t}`}function st(e,t,n){return`section-${t}-block-${e}-setting-${n}`}function it(e,t,n){return`app-${e}-block-${t}-setting-${n}`}const ct="shopify-checkout",lt="checkout_stylesheet",at=`link[rel="stylesheet"][href*="/${lt}/"]`,ut=new RegExp(`/${lt}\\/(.*)`),dt="data-shopify-editor",ft="--shopify-editor-",mt="editor_asset",pt=`link[rel="stylesheet"][href*="/${mt}/"]`,ht=/[^A-Za-z0-9\-_]/g,gt=new RegExp(`/${mt}\\/(.*)`);async function yt(){return function(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];return{accessedInStylesheets:[...t.accessedInStylesheets,...o.accessedInStylesheets],filteredColorsInStylesheets:[...t.filteredColorsInStylesheets,...o.filteredColorsInStylesheets]}}),{filteredColorsInStylesheets:[],accessedInStylesheets:[]})}(await async function(){const e=await vt(pt),t=await vt(at),n=window.getComputedStyle(document.body),o=St({styles:n,stylesheets:e,stylesheetsDetails:{}});return St({styles:n,stylesheets:t,customAssetName:ct,stylesheetsDetails:o})}())}function St({styles:e,stylesheets:t,customAssetName:n,stylesheetsDetails:o}){return t.reduce(((t,o)=>{let r=o.href,s=n;if(null==s){if(r=Et(o),null==r)return t;s=wt(r)}const{accessedSettings:i}=bt(s,e),c=function(e,t){return G(`${ft}${e}-filtered-color-settings`,t)||[]}(s,e);let l=[o];return null!=t[r]&&t[r].elements.includes(o)?l=t[r].elements:null!=t[r]&&(l=[...t[r].elements,o]),{...t,[r]:{accessedInStylesheets:i,assetName:s,elements:l,filteredColorsInStylesheets:c}}}),o)}function wt(e){return e.replace(".scss","").replace(".css","").replace(ht,"-")}function Et(e){const t=e.href.match(gt)||e.href.match(ut);return null==t?null:t[1]}function bt(e,t){let n=G(`${ft}${e}-accessed-settings`,t);return null!=n?{accessedSettings:n,isCheckoutAsset:!1}:(n=G(`${ft}shopify-checkout-accessed-settings`,t),null!=n?{accessedSettings:n,isCheckoutAsset:!0}:{accessedSettings:[],isCheckoutAsset:!1})}async function vt(e){const t=[...document.querySelectorAll(e)].filter((e=>!e.disabled));var n;return await(n=t,Promise.all(n.map(It))),t}async function Ct(e){var t;return[...await vt(pt),...await vt(at),...(t="style[filename]",[...document.querySelectorAll(t)])].reduce(((t,n)=>{const{filename:o,accessedInStylesheets:r,isCheckoutAsset:s,href:i}=function(e){let t=null,n=null,o=!1,r="";if("STYLE"===e.nodeName){t=e.getAttribute("filename");const s=e.getAttribute("accessedinstylesheets");n=s?JSON.parse(s):null,o="true"===e.getAttribute("isCheckoutAsset"),r=e.getAttribute("href")||""}if(function(e){return"LINK"===e.nodeName}(e)){t=Et(e);const s=t?wt(t):null,i=s?bt(s,window.getComputedStyle(document.body)):null;null!=i&&(n=i.accessedSettings,o=i.isCheckoutAsset),r=e.href}return{filename:t,accessedInStylesheets:n,isCheckoutAsset:o,href:r}}(n);return o&&r?(e.some((e=>null==r?void 0:r.includes(e)))&&(t[o]={element:n,accessedInStylesheets:r,isCheckoutAsset:s,href:i}),t):t}),{})}function It(e){return new Promise((t=>{const n=[...document.styleSheets];null!=e.sheet&&n.includes(e.sheet)?t():e.addEventListener("load",(()=>t()),!0)}))}const kt="data-live-text-setting",At="/escape";const Mt="data-accessed-settings";async function $t(){const{accessedThemeSettings:e}=he(),{accessedInStylesheets:t,filteredColorsInStylesheets:n}=await yt(),{accessedInStyleElements:o,filteredColorsInStyleElements:r}=Array.from(document.querySelectorAll(`[${dt}]`)).reduce(((e,t)=>{const n=t.getAttribute(dt);if("STYLE"===t.nodeName&&n){const{accessedSettings:t,filteredColorSettings:o}=JSON.parse(n),r=t.map((e=>nt(e))),s=o.map((e=>nt(e)));e.accessedInStyleElements=[...e.accessedInStyleElements,...r],e.filteredColorsInStyleElements=[...e.filteredColorsInStyleElements,...s]}return e}),{accessedInStyleElements:[],filteredColorsInStyleElements:[]}),s=Array.from(document.querySelectorAll(`[${kt}]`)).reduce(((e,t)=>{const n=t.getAttribute(kt);return null==n?e:[...e,n.replace(At,"")]}),[]);return{accessedInStylesheets:t,accessedInScripts:[...document.querySelectorAll(`[${Mt}]`)].reduce(((e,t)=>{const n=t.getAttribute(Mt);if(null==n)return e;try{return[...e,...JSON.parse(n)]}catch(o){return e}}),[]),accessedInHtml:e,filteredColorsInStylesheets:n,accessedInStyleElements:o,filteredColorsInStyleElements:r,liveSettingTextKeys:s}}let xt=function(e){return e.NestedSectionMarkup="NestedSectionMarkup",e.NestedContentForIndexComments="NestedContentForIndexComments",e.ContentForIndexCommentsAreNotSiblings="ContentForIndexCommentsAreNotSiblings",e.ContentForIndexCommentsAreNotSiblingsNoSections="ContentForIndexCommentsAreNotSiblingsNoSections",e.MissingContentForIndexComments="MissingContentForIndexComments",e.BeginContentForIndexAfterEndComment="BeginContentForIndexAfterEndComment",e.MissingMainComments="MissingMainComments",e.BeginMainAfterEndComment="BeginMainAfterEndComment",e}({});const Tt="data-shopify-editor-section",Nt="data-shopify-editor-block",Ot=`[${Tt}]`,Pt=`${Ot} ${Ot}`;function _t(){const[e,t]=re();if(e&&t){const n=Bt();if(null!=n)return n;const o=function(e,t){if(null!=e&&null!=t)return null;return{type:xt.MissingContentForIndexComments,data:{beginComment:Boolean(e),endComment:Boolean(t)}}}(e,t);return null!=o?o:function(e,t){if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)return{type:xt.BeginContentForIndexAfterEndComment};return null}(e,t)||function(e,t){const n=Array.from(document.querySelectorAll(Ot)).find((n=>n.contains(e)||n.contains(t)));if(null==n)return null;const o=Ft(n).find((n=>n.contains(e)||n.contains(t)));return null==o?{type:xt.NestedContentForIndexComments,data:{section:Ht(n)}}:{type:xt.NestedContentForIndexComments,data:{section:Ht(n),block:Lt(o)}}}(e,t)||function(e,t){if(e.parentNode===t.parentNode)return null;const n=(function(){const[e,t]=re();return null==t||null==e?null:te(e,t)}()||[]).pop();return null==n?{type:xt.ContentForIndexCommentsAreNotSiblingsNoSections}:{type:xt.ContentForIndexCommentsAreNotSiblings,data:{section:Ht(n)}}}(e,t)}return function(){const[e,t]=[se(),ie()];if(null==e&&null==t)return null;const n=function(e,t){if(null!=e&&null!=t)return null;return{type:xt.MissingMainComments,data:{beginComment:Boolean(e),endComment:Boolean(t)}}}(e,t);if(null!=n)return n;if(null==e||null==t)return null;const o=function(e,t){if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)return{type:xt.BeginMainAfterEndComment};return null}(e,t);if(null!=o)return o;return null}()||Bt()}function Bt(){const e=Array.from(document.querySelectorAll(Pt))[0];if(null==e)return null;const t=function(e){if(null==e.parentElement)return null;return e.parentElement.closest(Ot)}(e);if(null==t)return null;const n=Ft(t).find((t=>t.contains(e)));return null==n?{type:xt.NestedSectionMarkup,data:{section:Ht(t)}}:{type:xt.NestedSectionMarkup,data:{section:Ht(t),block:Lt(n)}}}function Ft(e){return Array.from(e.querySelectorAll(`[${Nt}]`))}function Ht(e){if(null!=e.sectionData)return e.sectionData;const t=e.getAttribute(Tt);if(null==t)return null;let n=null;try{n=JSON.parse(t)}catch(o){const t=e.outerHTML.match(/^<(.*?)>/);(0,C.K)("StorefrontEvent::Error",{errorMessage:`Unable to JSON.parse section data attributes. openingTagMatch: ${t&&t[0]}`})}return null==n?null:(e.sectionData=n,e.sectionData)}function Lt(e){if(null!=e.blockData)return e.blockData;const t=e.getAttribute(Nt);if(null==t)return null;let n=null;try{n=JSON.parse(t)}catch(o){const t=e.outerHTML.match(/^<(.*?)>/);(0,C.K)("StorefrontEvent::Error",{errorMessage:`Unable to JSON.parse. openingTagMatch: ${t&&t[0]}`})}return null==n?null:(e.blockData=n,e.blockData)}let Dt=function(e){return e[e.Same=0]="Same",e[e.Snake=1]="Snake",e[e.Screaming=2]="Screaming",e[e.Camel=3]="Camel",e[e.Upper=4]="Upper",e[e.Unknown=5]="Unknown",e}({});function Rt(e,t){switch(e){case Dt.Upper:return t.toUpperCase();case Dt.Camel:return t[0].toLowerCase()+t.slice(1);case Dt.Snake:case Dt.Screaming:{const n=t.replace(/([a-z0-9])_?([A-Z]|[0-9]+)/g,"$1_$2");return e===Dt.Screaming?n.toUpperCase():n.toLowerCase()}default:return t}}function Gt(e,t,n={}){const o={};for(const r of e)o[r]=Object.prototype.hasOwnProperty.call(n,r)?n[r]:Rt(t,r);return o}var qt=Gt(["Json","Liquid"],2,{});let Kt,Ut,jt=function(e){return e.EditorPublish="EditorPublish",e.EditorBadOrigin="EditorBadOrigin",e.EditorMaxGraphQlLimit="EditorMaxGraphQLLimit",e.EditorModulesFailing="EditorModulesFailing",e.EditorModulesSuccess="EditorModulesSuccess",e.EditorModulesTimeToStart="EditorModulesTimeToStart",e.EditorMutationFailing="EditorMutationFailing",e.EditorStyleSheet="EditorStyleSheet",e.EditorInvalidSession="EditorInvalidSession",e.ArgusConnectionFailed="ArgusConnectionFailed",e.ArgusConnectionSuccess="ArgusConnectionSuccess",e.ArgusConnectionUnauthorized="ArgusConnectionUnauthorized",e.CookieCheck="CookieCheck",e.StaticSectionsRenderedRatio="StaticSectionsRenderedRatio",e.SectionGroupComputation="SectionGroupComputation",e.ImageUploadValidationFailed="ImageUploadValidationFailed",e}({});function Jt(){const{sectionsData:e,sectionGroups:t,contentForLayoutPosition:n,template:{format:o}}=he(),r=Xt(e),s=o===qt.Json;Ut=function({templateSections:e,sectionGroups:t,contentForLayoutPosition:n,isJsonTemplate:o}){const r=e.every((e=>e.scope===B.Static));let s=[];s=r?function({templateSections:e,sectionGroups:t,contentForLayoutPosition:n,isJsonTemplate:o}){const[r,s]=ae();return e.reduce(((i,c,l)=>{const a=i[i.length-1],u=j(c.sectionId),d=zt(c,t);if(l===n&&o&&e.every((e=>e.scope!==B.Template))&&i.push(Yt()),null==u||null==d)return i;if(null==a)return i.push(d),i;if(null==r||null==s)return a.scope!==B.Group&&a.sectionIds.push(c.uniqueId),i;const f=j(e[l-1].sectionId);if(null==f)return i.push(d),i;const m=z(r,f)&&z(r,u),p=X(r,f,s)&&X(r,u,s),h=Y(s,f)&&Y(s,u);return m||p||h?a.scope!==B.Group&&a.sectionIds.push(c.uniqueId):i.push(d),i}),[])}({templateSections:e,sectionGroups:t,contentForLayoutPosition:n,isJsonTemplate:o}):e.reduce(((r,s,i)=>{const c=r[r.length-1],l=zt(s,t),a=s.scope===B.Static&&null==j(s.sectionId),u=s.scope===B.Group&&null!=l&&F(l)&&null==ue(l.type);if(i===n&&o&&e.every((e=>e.scope!==B.Template))&&r.push(Yt()),a||u||null==l)return r;if(null==c)return r.push(l),r;const d=e[i-1],f=s.scope===d.scope,m=s.scope===B.Group&&d.scope===B.Group,p=!m&&f,h=m&&function(e,t,n){if(e.scope!==B.Group||t.scope!==B.Group)return!1;const o=n.find((({sectionIds:t})=>t.includes(e.id)));if(null==o)return!1;return o.sectionIds.includes(t.id)}(s,d,t),g=d.scope===B.Static&&null==j(d.sectionId),y=s.scope===B.Static,S=c.scope===B.Static;return y&&g&&!S||!p&&!h?r.push(l):c.sectionIds.push(s.uniqueId),r}),[]);if(null==t)return s;return t.forEach((e=>{if(0!==e.sectionIds.length)return;const t=ue(e.type);if(null==t)return;const n=s.findIndex((e=>{const n=fe(e);let o=null;if(e.scope===B.Static){const t=e.sectionIds.at(-1);if(null==t)return!1;o=j(t)}else o=null==n?void 0:n[1];return null!=o&&z(o,t)}));return s=function(e,t,n,o){const r=t[e],s=function(e){return{scope:B.Group,name:e.name,hash:e.resourceHash.hashValue,resourceId:e.resourceHash.resourceId,recordId:e.recordId,sectionIds:[],type:e.type,standardizedType:e.standardizedType}}(n);if(-1===e)return[...t,s];const i=r.sectionIds.findIndex((e=>{const t=j(e);return null!=t&&function(e,t){let n=e.nextSibling;for(;n&&((null===(o=n)||void 0===o?void 0:o.nodeType)===Node.TEXT_NODE||(null===(r=n)||void 0===r?void 0:r.nodeType)===Node.COMMENT_NODE);){var o,r,s,i;if((null===(s=n)||void 0===s?void 0:s.nodeType)===Node.COMMENT_NODE&&n===t)return!0;n=null===(i=n)||void 0===i?void 0:i.nextSibling}return!1}(t,o)}));if(-1===i){return[...t.slice(0,e),s,...t.slice(e)]}return function(e,t,n,o,r){const s=t.sectionIds[n],i=e.slice(0,o),c=e.slice(o+1),l=t.sectionIds.slice(0,n),a=t.sectionIds.slice(n+1),u={...t,sectionIds:[...l,s]},d={...t,sectionIds:a},f=[u,r,d];return[...i,...f,...c]}(t,r,i,e,s)}(n,s,e,t),s})),s}({templateSections:e,sectionGroups:t,contentForLayoutPosition:n,isJsonTemplate:s}),Kt=function(e,t,n){const[o,r]=e?re():ae(),s=n.filter((e=>e.scope===B.Static));return t.reduce(((e,t)=>{const n=s.find((e=>e.uniqueId===t.sectionIds[0]));if(null==n)return e;const i=j(n.sectionId);return null==i?e:null==o||null==r?(e.top=[...e.top,...t.sectionIds],e):(z(o,i)?e.top=[...e.top,...t.sectionIds]:Y(r,i)?e.bottom=[...e.bottom,...t.sectionIds]:e.middle=[...e.middle,...t.sectionIds],e)}),{top:[],middle:[],bottom:[]})}(r,Ut,e);const i=function(e,t){const n=e.filter((e=>e.scope===B.Static&&null!=j(e.sectionId)));return 0===n.length?1:(t.top.length+t.middle.length+t.bottom.length)/n.length}(e,Kt);(0,C.K)("StorefrontEvent::StatsdEvent",{stat:jt.StaticSectionsRenderedRatio,value:i})}function Vt(){var e,t;const{theme:n,template:o,sectionsData:r,sectionSchemas:s,globalBlockSchemas:i,installedApps:c,templateOverride:l,sectionGroupOverrides:a,themeBlockSchemas:u}=he(),d=Xt(r),f=r.some((e=>e.isContentForJsonTemplate)),m=o.format===qt.Json,p=m?null===(e=o.resourceHash)||void 0===e?void 0:e.resourceId:void 0,h=m?null===(t=o.resourceHash)||void 0===t?void 0:t.hashValue:void 0;return{handle:(null==o?void 0:o.pageInfo.handle)||null,title:(null==o?void 0:o.pageInfo.title)||null,resource:(null==o?void 0:o.resource)||null,type:(null==o?void 0:o.pageInfo.type)||null,templateRecordId:null==o?null:o.recordId,templateBasename:(null==o?void 0:o.basename)||null,templateFormat:(null==o?void 0:o.format)||null,templateSectionOrder:d?r.filter((e=>e.isContentForIndex)).map((e=>({sectionGid:e.uniqueId,sectionId:e.sectionId}))):f?r.filter((e=>e.isContentForJsonTemplate)).map((e=>({sectionGid:e.uniqueId,sectionId:e.sectionId}))):[],templateView:(()=>{const e=P(window.location.href,"view");if(null==e)return null;if(null==o||null==o.basename||-1===o.basename.indexOf("."))return null;return o.basename.substring(o.basename.indexOf(".")+1)===e?e:null})(),templateSections:r,themeSectionGroups:Ut,templateStaticSectionPositions:Kt,templateSectionSchemas:s,themeId:n.id,isContentForTemplate:f,isContentForIndex:d,appBlockSchemas:i,appSchemas:c,templateResourceId:p,templateCityHash:h,templateOverride:l,themeBlockSchemas:u,themeSectionGroupOverrides:a}}function zt(e,t){if(e.scope===B.Group){const n=t.find((t=>t.sectionIds.includes(e.id)));return null==n?(I("Unable to find group for section in section group"),null):{scope:B.Group,name:n.name,type:n.type,recordId:n.recordId,resourceId:n.resourceHash.resourceId,hash:n.resourceHash.hashValue,sectionIds:[e.uniqueId],standardizedType:n.standardizedType}}return{scope:e.scope,sectionIds:[e.uniqueId]}}function Yt(){return{scope:B.Template,sectionIds:[]}}function Xt(e){const[t,n]=re();return Boolean(t&&n)||"/"===window.location.pathname&&e.some((e=>e.isContentForIndex))}function Wt(){const{theme:e,sectionsData:t}=he(),n=t.reduce(((e,{uniqueId:t,accessedThemeSettings:n})=>({...e,[t]:n})),{});return{themeGid:e.id,accessedThemeSettings:n}}function Zt(){const{previewUnconfirmedThemeSettingErrors:e}=he();return e||[]}function Qt(){var e,t,n,o,r;const s=null===(e=he())||void 0===e?void 0:e.localization;if(null==s)return null;const i=null==s||null===(t=s.currentLocale)||void 0===t?void 0:t.isoCode,c=null==s||null===(n=s.currentMarket)||void 0===n?void 0:n.primary,l=null==s||null===(o=s.currentMarket)||void 0===o?void 0:o.supportsShopPrimaryLocale,a=null==s||null===(r=s.shopPrimaryLocale)||void 0===r?void 0:r.isoCode;return null==i||null==c||null==a||null==l?null:{currentLocale:{isoCode:i},currentMarket:{isPrimary:c,supportsShopPrimaryLocale:l},shopPrimaryLocale:{isoCode:a}}}async function en(){return{settingMetadata:await $t(),brokenMarkupData:_t()}}window.addEventListener("DOMContentLoaded",(async()=>{const{time:e}=await async function(e){const t=performance.now(),n=e();return{time:performance.now()-t,returnValue:n}}(Jt);(0,C.K)("StorefrontEvent::StatsdEvent",{stat:jt.SectionGroupComputation,value:e})}));const tn=Number(window.name),nn=[S,w,E];var on=n("./node_modules/@shopify/polaris-tokens/dist/esm/build/index.mjs");const rn=function(){try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch(e){return!1}}();const sn=new class{constructor(){this.gaveUpTryingToDetectFixedHeader=!1,this.fixedHeaderHeight=null,this.isAnimating=!1,this.cancelEnablePointerEvents=void 0,this.disablePointerEventsElement=document.createElement("style"),this.generateScrollFunctions(),this.disablePointerEventsElement.innerHTML="* { pointer-events: auto !important; }"}scrollIntoView(e,t={animate:!0,center:!1},n){const o=W(e),r=this.isNotInViewport(o),s=this.fullyInViewport(o);!r&&s||this.scrollRectIntoView(o,t,n)}scrollRectIntoView(e,t={animate:!0,center:!1},n){const{animate:o,center:r}=t;let s=null;const i=()=>{null!=n&&n()};r||(this.fixedHeaderHeight=this.fixedHeaderHeight||this.computeFixedHeaderHeight());const c=this.pageYOffset();let l=c+Math.round(e.top);if(r?l-=Math.max(0,(window.innerHeight-e.height)/2):l>0&&!this.fixedHeaderHeight&&(l-=20),r||null==this.fixedHeaderHeight){if(c+10>l&&l>c-10)return void i()}else if(c+10>l-this.fixedHeaderHeight&&l>c-10)return void i();if(!r&&!this.gaveUpTryingToDetectFixedHeader&&l>25?(l-=this.fixedHeaderHeight||0,s=()=>{const e=this.computeFixedHeaderHeight();if(0===e&&c>200&&(this.gaveUpTryingToDetectFixedHeader=!0),this.gaveUpTryingToDetectFixedHeader||e===this.fixedHeaderHeight||null==this.fixedHeaderHeight)return 0;const t=e-this.fixedHeaderHeight;return this.fixedHeaderHeight=e,-t}):s=()=>0,o&&!rn)return this.isAnimating=!0,this.scrollToAnimate(c,l,s),void setTimeout(i,400);this.scrollTo(l+s()),this.isAnimating?setTimeout(i,200):i()}scrollTo(e){return window.scrollTo(0,e)}pageYOffset(){return window.pageYOffset}scrollToAnimate(e,t,n){let o=null,r=t,s=n;const i=t=>{null==o&&(o=t);const n=on.rv.motion["motion-duration-300"],c=parseInt(n,10),l=t-o,a=this.easeInOutSine(Math.min(l/c,1));return this.scrollTo(e+(r-e)*a),s&&a>=.5&&(r+=s(),s=null),l<c?requestAnimationFrame(i):(this.isAnimating=!1,null)};return requestAnimationFrame(i)}easeInOutSine(e){return.5*(1-Math.cos(Math.PI*e))}disablePointerEvents(){if(null!=this.cancelEnablePointerEvents&&(this.cancelEnablePointerEvents(),this.cancelEnablePointerEvents=void 0),null==this.disablePointerEventsElement.parentNode)return document.body.appendChild(this.disablePointerEventsElement)}enablePointerEvents(){return this.disablePointerEventsElement.parentNode?document.body.removeChild(this.disablePointerEventsElement):null}generateScrollFunctions(){this.scrollTo=e=>window.scrollTo(0,e),this.pageYOffset=()=>window.pageYOffset}computeFixedHeaderHeight(){this.disablePointerEvents();const e=this.recursivelyComputeFixedHeaderHeight(),t=_(this.enablePointerEvents,150);return this.cancelEnablePointerEvents=t.cancel,t(this),e}recursivelyComputeFixedHeaderHeight(e=0){let t;const n=document.elementFromPoint(0,e),o=this.closestFixedElement(n);if(!o)return 0;const r=window.innerWidth-30,s=document.elementFromPoint(r,e);if(s!==document.documentElement&&(t=this.closestFixedElement(s),t!==o))return 0;let i=o.offsetHeight;return i>0&&(i+=this.recursivelyComputeFixedHeaderHeight(e+i+1)),i}closestFixedElement(e){if(!e||e===document.body||e===document.documentElement)return null;let t=e.correspondingUseElement||e.correspondingElement||e;for(;!["fixed","sticky"].includes(getComputedStyle(t).position);)if(t=t.parentElement,t===document.body)return null;return t}isNotInViewport({top:e,bottom:t}){return e>(window.innerHeight||document.documentElement.clientHeight)-60||t<60}fullyInViewport({top:e,bottom:t}){const n=window.innerHeight||document.documentElement.clientHeight;return e>=0&&e<n-60&&t<n-60}};function cn(e,t,n){sn.scrollIntoView(e,t,n)}var ln=n("./packages/@editor/storefront-controller/modules/theme-api/theme-api.ts");const an=({scrollingOptions:e,sectionGid:t,sibling:n,markup:o,selectSection:r,groupType:s})=>{const i=Z(o);if(null==i)throw new Error("Could not insert section.");if(n){const{siblingSectionGid:e,isAfterSibling:t}=n,o=Q(e),r=document.getElementById(o);if(null==r)throw new Error("Could not insert section.");t?R(r,i):(a=i,(c=r).parentNode&&c.parentNode.insertBefore(a,c))}else{let e=null;const t=null!=s;if(e=t?ue(s):V(u)||V(l)||V(h),null==e)throw new Error("Could not insert section.");t?e.appendChild(i):R(e,i)}var c,a;return cn(i,e),(0,ln.qf)({type:"section:load",target:i,data:{sectionId:t}}),r&&(0,ln.qf)({type:"section:select",target:i,data:{sectionId:t,load:!0}}),en()};function un({blockId:e,sectionElement:t,options:n}){if(e){return cn(J(t,e)??t,n)}return cn(t,n)}const dn=({sectionGid:e,blockId:t,options:n})=>{const o=Q(e),r=document.getElementById(o);null!=r&&un({blockId:t,sectionElement:r,options:n})},fn=e=>({sectionCoordinates:function({selectedSectionGid:e,scrollToCoordinates:t,siblingOptions:n}){const o=Q(e),r=document.getElementById(o);if(null==r)return null;t&&cn(r,{center:!0});const s=W(r);return null==n?s:mn(s,n)}(e)||function(){const e=V(d)||V(g)||V(a);if(null==e)return(0,C.K)("StorefrontEvent::Error",{errorMessage:"Unable to locate comment node needed for section coordinates"}),null;const{parentNode:t}=e;if(null==t)return(0,C.K)("StorefrontEvent::Error",{errorMessage:"Unable to locate comment parent node needed for section coordinates"}),null;const n=W(t);return mn(n,{isAfterSibling:!0})}()});function mn(e,t){return{top:t.isAfterSibling?e.bottom:e.top,left:e.left,bottom:t.isAfterSibling?e.bottom:e.top,right:e.right,width:e.width,height:0,x:e.x,y:e.y}}const pn=({selectedSectionGid:e,nextOrder:t})=>{const n=t.map(Q),o=Q(e),r=document.getElementById(o);n.forEach(((e,t)=>{const o=document.getElementById(e);if(null==o)throw new Error("Tried to reorder a section that does not exist.");const r=n[t-1],s=document.getElementById(r);null!=s&&R(s,o)})),null!=r&&(cn(r,{center:!0,animate:!1}),(0,ln.qf)({type:"section:reorder",target:r,data:{sectionId:e}}));return fn({selectedSectionGid:e})},hn=async({sectionGid:e})=>{const t=Q(e),n=document.getElementById(t);if(null==n)throw new Error("Could not remove section");var o;return(0,ln.qf)({type:"section:unload",target:n,data:{sectionId:e}}),null!=(o=n).parentNode&&o.parentNode.removeChild(o),en()};var gn=n("./packages/@editor/storefront-controller/modules/utilities/fetchAssets.ts");const yn=async({sectionInput:e,sectionGid:t,isConfirmed:n})=>{const o=await(0,gn.V6)({render_sections:{[t]:JSON.stringify(e)},unconfirmed_sections:!n}),{html:r,json:{accessedThemeSettings:s,blocks:i}}=o.sections[t];return{markup:r,accessedThemeSettings:s,blocks:i}};let Sn=function(e){return e.MissingBlock="Could not find selected block, please make sure your theme is using {{ block.shopify_attributes }}.",e}({});function wn(e,t,n,o,r){const s=J(e,o);return null==s?((0,ln.KE)(Sn.MissingBlock),null):((0,ln.qf)({type:"block:select",target:s,data:{sectionId:t,blockId:n,load:r}}),s)}const En=async({sectionGid:e,markup:t,reselectSection:n,reselectBlockDomId:o,reselectBlockEventId:r,targetBlockId:s})=>{const i=Q(e),c=document.getElementById(i);if(null==c)return en();const l=Z(t);if(null==l)throw new Error("Could not replace the section: Failed to create a new element with the markup received.");var a,u;return(0,ln.qf)({type:"section:unload",target:c,data:{sectionId:e}}),u=l,null!=(a=c).parentNode&&a.parentNode.replaceChild(u,a),un({blockId:o??s,sectionElement:l}),(0,ln.qf)({type:"section:load",target:l,data:{sectionId:e}}),n&&((0,ln.qf)({type:"section:select",target:l,data:{sectionId:e,load:!0}}),null!=r&&null!=o&&wn(l,e,r,o,!0)),en()},bn=({sectionGid:e,blockId:t,blockDomId:n})=>{const o=Q(e),r=document.getElementById(o);null!=r&&(null!=t&&null!=n?wn(r,e,t,n,!1):(0,ln.qf)({type:"section:select",target:r,data:{sectionId:e,load:!1}}))},vn=({sectionGid:e,blockId:t,blockDomId:n})=>{const o=Q(e),r=document.getElementById(o);null!=r&&(null==t||null==n?(0,ln.qf)({type:"section:deselect",target:r,data:{sectionId:e}}):function(e,t,n,o){const r=J(e,o);null==r?(0,ln.KE)(Sn.MissingBlock):(0,ln.qf)({type:"block:deselect",target:r,data:{sectionId:t,blockId:n}})}(r,e,t,n))},Cn=({blockGid:e,newPosition:t,previousPosition:n,animate:o})=>{ee({blockGid:e,newPosition:t,previousPosition:n,animate:o})},In=[p],kn=["noscript","style","meta","link","base","head","title"];function An(e){return Array.from(e).filter((e=>!In.includes(e)))}const Mn=({sectionGid:e})=>{const t=Q(e),n=document.getElementById(t);if(null==n)return{sectionCssMetadata:null};const o=function e(n){const o=n.getAttribute("id"),r=o===t?[]:An(n.classList),s=o&&o!==t?[o]:[],c=n.tagName.toString().toLowerCase(),l=kn.includes(c),a=o===t||l?[]:[c],u=o===t?An(n.classList):[],d=Array.from(n.children).reduce(((t,n)=>{if(!(n instanceof HTMLElement))return t;const o=e(n);return{classes:[...t.classes,...o.classes],ids:[...t.ids,...o.ids],tags:[...t.tags,...o.tags]}}),{classes:[],ids:[],tags:[]});return{classes:i([...r,...d.classes]),ids:[...s,...d.ids],tags:i([...a,...d.tags]),sectionClassesToExclude:u}}(n);return{sectionCssMetadata:o}};n("./node_modules/tinycolor2/esm/tinycolor.js").Z.names;function $n(e){const t=xn(e);return{red:parseInt(t.slice(1,3),16),green:parseInt(t.slice(3,5),16),blue:parseInt(t.slice(5,7),16)}}function xn(e){return 4===e.length?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:e}const Tn=200;let Nn,On;function Pn(){Nn=null,document.body.removeChild(On)}const _n="--shopify-editor-";function Bn({settingKey:e,settingValue:t}){On||(On=document.createElement("style"),On.innerHTML="* { transition: none !important; }"),Nn?clearTimeout(Nn):document.body.appendChild(On),Nn=window.setTimeout(Pn,Tn);const n=function(e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n];t.set(o,e.getPropertyValue(o))}return t}(window.document.documentElement.style);!function(e,t,n){n.set(`${_n}${e}`,t)}(e,t,n);const o=$n(t);!function(e,t,n){n.set(`${_n}${e}-format-rgb`,`${t.red} ${t.green} ${t.blue}`)}(e,o,n),function(e,t,n){Object.entries(t).forEach((([t,o])=>{n.set(`${_n}${e}-format-${t}`,`${o}`)}))}(e,o,n);const r=function(e){return Array.from(e.entries(),(([e,t])=>`${e}: ${t};`)).join("")}(n);window.document.documentElement.setAttribute("style",r)}function Fn({settingKey:e,settingValue:t}){let n=!1;const o=Array.from(document.querySelectorAll(`[${kt}]`)).filter((t=>{const o=t.getAttribute(kt);return o===e||o===`${e}${At}`&&(n=!0,!0)}));n?o.forEach((e=>e.textContent=t.toString())):o.forEach((e=>e.innerHTML=t.toString()))}let Hn;const Ln=async({themeSettingChanges:e,timeStamp:t})=>{Hn=t;const n=await Ct(e.map((({setting_id:e})=>e))),o=await async function({currentAssets:e,themeSettingChanges:t}){let n={};const o=Object.entries(e).filter((([e,t])=>t.isCheckoutAsset)),r=o.map((async([e,o])=>{const r=await(0,gn.ff)(o.href,{render_assets:[],theme_setting_changes:t});n[e]=r})),s=Object.entries(e).filter((([e,t])=>!t.isCheckoutAsset)).map((([e,t])=>e));if(s.length>0){const{assets:e}=await(0,gn.sj)({render_assets:s,theme_setting_changes:t});n={...n,...e}}return await Promise.all(r),n}({currentAssets:n,themeSettingChanges:e});0!==Object.keys(o).length&&Hn===t&&Object.entries(n).forEach((([e,{element:t,accessedInStylesheets:n,isCheckoutAsset:r,href:s}])=>{const i=o[e],c=function(e){return"error"in e}(i)?"":i.content;if(c){var l;const o=function({content:e,fileName:t,accessedInStylesheets:n,isCheckoutAsset:o,href:r}){const s=document.createElement("style");return s.type="text/css",s.innerHTML=e,s.setAttribute("filename",t),s.setAttribute("accessedinstylesheets",JSON.stringify(n)),s.setAttribute("isCheckoutAsset",String(o)),s.setAttribute("href",r),s}({content:c,fileName:e,accessedInStylesheets:n,isCheckoutAsset:r,href:s});null===(l=t.parentNode)||void 0===l||l.replaceChild(o,t)}}))};function Dn(e){if(e.isTrusted)return function(e){return"click"===e.type}(e)?(0,C.K)("StorefrontEvent::UserInteractionEvent",{type:"click",event:{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,cancelable:e.cancelable,bubbles:e.bubbles}}):function(e){return"keydown"===e.type}(e)?("s"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault(),(0,C.K)("StorefrontEvent::UserInteractionEvent",{type:"keydown",event:{altKey:e.altKey,charCode:e.charCode,code:e.code,ctrlKey:e.ctrlKey,isComposing:e.isComposing,key:e.key,keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,cancelable:e.cancelable,bubbles:e.bubbles}})):void 0}function Rn(e){(function(e){var t,n;return!0===(null===(t=e.dataTransfer)||void 0===t||null===(n=t.types)||void 0===n?void 0:n.some(Gn))})(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="none")}function Gn(e){return e.toLowerCase().includes("file")}let qn=function(e){return e.Strict="Strict",e.Lax="Lax",e.None="None",e}({});const Kn=!1;function Un({name:e,value:t,expires:n,maxAge:o,domain:r=location.hostname,path:s="/",secure:i=!0,httpOnly:c=!1,sameSite:l=qn.Strict,partitioned:a=!1}){const u=[`${e}=${encodeURIComponent(t)}`];n&&u.push(`Expires=${n.toUTCString()}`),o&&u.push(`Max-Age=${o.toString()}`),r&&u.push(`Domain=${r}`),s&&u.push(`Path=${s}`),l&&u.push(`SameSite=${l}`),i&&u.push("Secure"),c&&u.push("HttpOnly"),a&&u.push("Partitioned");const d=`${u.join(";")};`;zn(`Setting Cookie: ${d}`),document.cookie=d;const f=function(e){return function(){if(""===document.cookie)return[];return decodeURIComponent(document.cookie).split(";").map((e=>e.trim())).reduce(((e,t)=>{const[n,o]=t.split("=");return[...e,{name:n,value:o}]}),[])}().find((t=>t.name===e))}(e);return zn(f?`Cookie "${e}" persisted`:`Cookie "${e}" did not persist`),Boolean(f)}function jn(e){return"hasStorageAccess"in e&&!1}async function Jn(){return!!jn(document)&&document.hasStorageAccess()}function Vn(){try{return null!=window.top&&window.top===window&&window.top.location.hostname===window.location.hostname}catch{return!1}}function zn(...e){Kn&&console.log("[CookieStore]",...e)}const Yn="third_party_test";const Xn={locationBehaviour:function(){var e;Pe=function(){const e=P(window.location.href,S);if(null!=e)return e;const t=(0,v.er)();if(null==t||null==t.oseid)throw I("oseid could not be accessed from window.Shopify.oseid in LocationBehavior.ts."),new Error("Shopify object is missing");return t.oseid}(),_e=function(){const e=P(window.location.href,w);if(null!=e)return e;const t=Se();return null==t?null:JSON.stringify(t)}(),Be=[(0,c.w7)()],function(){const e=window;e.Request=ze.Request(Request),e.fetch=ze.fetch(fetch),e.history.pushState=ze.pushState(history.pushState),e.history.replaceState=ze.replaceState(history.replaceState),e.XMLHttpRequest.prototype.open=ze.XMLHttpRequest(XMLHttpRequest.prototype.open)}(),Xe(),e=We,"loading"===document.readyState?x("DOMContentLoaded",e):N(e),$("load",Xe,!1),T(Qe),$("click",qe,!0),$("click",qe,!1),M("StorefrontMessage::Domains",Re),M("StorefrontMessage::Navigate",Ge),M("StorefrontMessage::UpdateResourceUpdatedAt",(({timestamp:e})=>{He=e}))},scrollPosition:function(){M("StorefrontMessage::SetScrollPosition",(({xOffset:e,yOffset:t,pathname:n})=>{null!=n&&n===window.location.pathname&&window.scrollTo(e,t)})),x("scroll",_(tt,100))},lifeCycleEventManager:function(){function e(){const e=new URL(location.href);let t="";for(const[n,o]of e.searchParams.entries())nn.includes(n)||(0===t.length?t=`?${n}=${o}`:t+=`&${n}=${o}`);return`${e.pathname}${t}`}M("StorefrontMessage::Ping",(({id:e})=>{(0,C.K)("StorefrontEvent::Pong",{id:e})})),(0,C.K)("StorefrontEvent::Load",{pathname:e(),search:location.search,frameVersion:tn}),null==window.parent.postMessage&&(0,C.K)("StorefrontEvent::Error",{errorMessage:"Post message does not exist on window.parent"}),$("pagehide",(()=>{window.name=String(tn),(0,C.K)("StorefrontEvent::Unload",{pathname:e(),frameVersion:tn})})),T((async()=>{const{pathname:e}=window.location;pe=void 0;const t=await async function(){return{brokenMarkupData:_t(),pageMetadata:Vt(),accessedThemeSettings:Wt(),settingMetadata:await $t(),unconfirmedThemeSettingErrors:Zt(),passwordBypassRequired:Boolean(he().passwordBypassRequired),buyerContext:Se(),localizationData:Qt()}}();window.closed||(t.pageMetadata.templateBasename===o.CheckoutOne&&(0,C.K)("StorefrontEvent::C1Load",{pathname:e}),(0,C.K)("StorefrontEvent::Ready",{pathname:e,frameVersion:tn,...t}))}))}},Wn={...Xn,sectionManager:function(){M("StorefrontMessage::InsertSection",an),M("StorefrontMessage::ScrollToSection",dn),M("StorefrontMessage::SetSectionOrder",pn),M("StorefrontMessage::RemoveSection",hn),M("StorefrontMessage::FetchSectionAssets",yn),M("StorefrontMessage::ReplaceSection",En),M("StorefrontMessage::SelectElement",bn),M("StorefrontMessage::DeselectElement",vn),M("StorefrontMessage::UpdateBlockOrder",Cn),M("StorefrontMessage::GetSectionCoordinates",fn),M("StorefrontMessage::GetSectionCssMetadata",Mn)},stylesheetError:function(){T((()=>{const e=G("--shopify-editor-stylesheet-error",window.getComputedStyle(document.body));(0,C.K)("StorefrontEvent::StylesheetError",function(e){if(null==e)return null;return{file:e.file,message:e.message}}(e))}))},liveSettings:function(){M("StorefrontMessage::LiveUpdateColorSetting",Bn),M("StorefrontMessage::LiveUpdateTextSetting",Fn)},replaceStylesheets:function(){M("StorefrontMessage::ReplaceStylesheets",Ln)},userInteractions:function(){$("click",Dn),$("keydown",Dn)},preventFileDragOver:function(){$("dragover",Rn)},thirdPartyCookies:async function(){(0,C.K)("StorefrontEvent::CookieCheck",{hasStorageAccessApi:jn(document),canWriteCookies:Un({name:Yn,value:"1",maxAge:60,sameSite:qn.None}),hasStorageAccess:await Jn(),context:Vn()?"FIRST_PARTY":"THIRD_PARTY"})}},Zn={locationBehaviour:"uninitialized",scrollPosition:"uninitialized",lifeCycleEventManager:"uninitialized",sectionManager:"uninitialized",stylesheetError:"uninitialized",liveSettings:"uninitialized",replaceStylesheets:"uninitialized",userInteractions:"uninitialized",preventFileDragOver:"uninitialized",thirdPartyCookies:"uninitialized"},Qn={locationBehaviour:-1,scrollPosition:-1,lifeCycleEventManager:-1,sectionManager:-1,stylesheetError:-1,liveSettings:-1,replaceStylesheets:-1,userInteractions:-1,preventFileDragOver:-1,thirdPartyCookies:-1};function eo(e,t){Qn[e]=performance.now();try{t(),Qn[e]=performance.now()-Qn[e],Zn[e]="initialized"}catch(n){Zn[e]="error",(0,C.K)("StorefrontEvent::Error",{errorMessage:`${e}: ${n.message}`})}}!function(){if(window.__shopify_internal_sfm)return;if(window.__shopify_internal_sfm=!0,window===window.top){const e=new URLSearchParams(location.search);e.delete(S),e.delete(w),e.set("ose","false"),window.location.href=`${location.protocol}//${location.host}${location.pathname}?${e}`}try{top&&(top.window.Shopify={...top.window.Shopify,contentForIndex:[]})}catch{}const{template:e}=ge(),t=e.basename===o.CheckoutOne;t?Object.entries(Xn).forEach((([e,t])=>eo(e,t))):Object.entries(Wn).forEach((([e,t])=>eo(e,t))),function(e){const t=[],n=null!=e&&e.isCheckoutOne?{locationBehaviour:Zn.locationBehaviour,scrollPosition:Zn.scrollPosition,lifeCycleEventManager:Zn.lifeCycleEventManager}:Zn;Object.entries(n).forEach((([e,n])=>{"initialized"!==n&&t.push(e)}));const o=0===t.length?{status:"success"}:{status:"fail",affectedModules:t};(0,C.K)("StorefrontEvent::ModuleStatus",o)}({isCheckoutOne:t}),function(){const e=Object.values(Qn).reduce(((e,t)=>t?e+t:e),0);(0,C.K)("StorefrontEvent::ModulesTimeToStart",{totalTime:e})}()}()},"./packages/@editor/storefront-controller/modules/theme-api/theme-api.ts":(e,t,n)=>{"use strict";function o({type:e,target:t,data:n}){(function(e,t,n={}){const o=document.createEvent("Event");o.detail=n.data,null==n.event&&(n.event={}),null==n.bubbles&&(n.bubbles=!0),null==n.cancelable&&(n.cancelable=!0),Object.keys(n.event||{}).forEach((e=>{o[e]=n.event[e]})),o.initEvent(t,n.bubbles,n.cancelable),e.dispatchEvent(o)})(t,`shopify:${e}`,n?{data:n}:void 0)}function r(e){console.warn(e)}n.d(t,{qf:()=>o,KE:()=>r})},"./packages/@editor/storefront-controller/modules/utilities/domain.ts":(e,t,n)=>{"use strict";n.d(t,{kY:()=>r,w7:()=>s});var o=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts");function r(){return`https://${function(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.editorDomain}()}`}function s(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.shop}},"./packages/@editor/storefront-controller/modules/utilities/emit-event.ts":(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var o=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts"),r=n("./packages/@editor/storefront-controller/modules/utilities/domain.ts");function s(e,t){(0,o.YM)().parent.postMessage({type:e,payload:t},(0,r.kY)())}},"./packages/@editor/storefront-controller/modules/utilities/fetchAssets.ts":(e,t,n)=>{"use strict";n.d(t,{Dl:()=>c,V6:()=>s,ff:()=>i,sj:()=>r});var o=n("./node_modules/qs/lib/index.js");async function r(e){const t=`${window.location.pathname}${window.location.search}`;return(await c(t,e)).json()}async function s(e){const t=`${window.location.pathname}${window.location.search}`;return(await c(t,e)).json()}async function i(e,t){try{const n=await c(e,t);return{content:await n.text()}}catch(n){return{error:n}}}function c(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,o.stringify)({_method:"get",...t},{arrayFormat:"brackets"})})}},"./packages/@editor/storefront-controller/modules/utilities/globals.ts":(e,t,n)=>{"use strict";function o(){return s}n.d(t,{WN:()=>c,YM:()=>o,er:()=>i});const r=window.Shopify,s={parent:window.parent,Shopify:r&&{...r}};function i(){return o().Shopify}function c(e){return"Shopify"in e}},"./packages/@editor/utilities/ancestors/utilities/buildGid.ts":(e,t,n)=>{"use strict";n.d(t,{c:()=>o});const o="__"},"?09cc":()=>{}},e=>{e.O(0,["vendors-node_modules_qs_lib_index_js","vendors-node_modules_shopify_polaris-tokens_dist_esm_build_index_mjs-node_modules_tinycolor2_-86bdf8"],(()=>{return t="./packages/@editor/storefront-controller/modules/index.ts",e(e.s=t);var t}));var t=e.O();_ShopifyEditorModules=t}]);